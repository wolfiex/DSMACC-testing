<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DSMACC: Selecting custom mechanisms</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DSMACC
   &#160;<span id="projectnumber">2019</span>
   </div>
   <div id="projectbrief">Changes to DSMACC for the thesis of Daniel Ellis</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Selecting custom mechanisms </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ol type="1">
<li>For any mechanism, when you run <code>make kpp</code> it will ask you what .kpp mechanism (from the ./mechanisms folder) you wish to compile.</li>
<li>Choose all mechanisms needed- if multiple add a space between each selection.</li>
<li>If only one mechanism is selected, and this contains the word 'organic', then inorganic.kpp shall also automatically be included.</li>
<li>These is also a custom option available from the makemodeldotkpp.py file.</li>
<li>If you want to use the <em>model.kpp</em> file from the <em>src</em> folder, use &lsquo;make kpp MODELKPP=&rsquo;&ndash;custom'`, which will copy <em>model.kpp</em> from the <em>src</em> folder to the main folder.</li>
</ol>
<h2>Running with multiple models</h2>
<ol type="1">
<li>Making a new model model and ensure it works</li>
<li>Type <code>make savemodel name=&lt;yournamehere&gt;</code> with what you wish to refer to your model with in the future</li>
<li>In your Initial conditions, at the description add your model name after a hyphen, e.g., myrun-mcm_new</li>
<li>Run using the saved flag <code>./begin.py -saved</code></li>
</ol>
<ul>
<li>only use a hyphen when providing a model name</li>
</ul>
<h2>Alias run shortcuts</h2>
<p>For those who do not know, aliases are shortcuts for command line functions and code snipets. For seasoned DSMACC users it may be easier to use these shortcuts than to have to type out the full commands all the time. To use these an alias must be included in your .bashrc or .profile file. Use of combinatory aliases should however be used with caution!</p>
<p>Examples of some potentially useful commands are: 106 alias b="python begin.py" 107 alias d="cd ~/DSMACC-testing" 108 alias k="make kpp &amp;&amp; make" 109 alias ics="cd ~/DSMACC-testing/InitCons" 110 alias m="cd ~/DSMACC-testing/mechanisms"</p>
<h2>Updating the rate constants</h2>
<p>Rate-constant simplification through the use of a symbolic engine has been applied. This reduces computation and allows the setting of parameters for fixed numeric constants (see KDEC bug). An example of some equations below.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Rate Cefficient  </th><th class="markdownTableHeadCenter">Original-eqn  </th><th class="markdownTableHeadRight">Simplified-eq   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">krd  </td><td class="markdownTableBodyCenter">kd0/kdi  </td><td class="markdownTableBodyRight">5.79e-23*m*exp(4000\/temp)   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyLeft">ncd  </td><td class="markdownTableBodyCenter">0.75-1.27*(log10(fcd))  </td><td class="markdownTableBodyRight">1.41   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">kbpan  </td><td class="markdownTableBodyCenter">(kd0*kdi)*fd/(kd0+kdi)  </td><td class="markdownTableBodyRight">fd*kd0*kdi\/(kd0 + kdi)   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyLeft">kr1  </td><td class="markdownTableBodyCenter">k10/k1i  </td><td class="markdownTableBodyRight">3.32e-18*m*temp**(-1.3)   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">f1  </td><td class="markdownTableBodyCenter">10**(log10(fc1)/(1+(log10(kr1)/nc1)**2))  </td><td class="markdownTableBodyRight">10**(-0.07\/(1 + log10(kr1)**2\/nc1**2))   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyLeft">kmt12  </td><td class="markdownTableBodyCenter">(k120*k12i*f12)/(k120+k12i)  </td><td class="markdownTableBodyRight">2e-12*f12*k120\/(k120 + 2e-12)   </td></tr>
</table>
<p>To do this place your new rate file in the src folder, run simplfy_rates.py and update the constants.f90 code to inculde the newly generates .def and .var files </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
