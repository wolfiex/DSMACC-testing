<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DSMACC: Regular Expression Tokenizer</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DSMACC
   &#160;<span id="projectnumber">2019</span>
   </div>
   <div id="projectbrief">Changes to DSMACC for the thesis of Daniel Ellis</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Regular Expression Tokenizer </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Tokenizes strings that represent a regular expressions.</p>
<p><a href="http://travis-ci.org/fent/ret.js"></a> <a href="https://david-dm.org/fent/ret.js"></a> <a href="https://codecov.io/gh/fent/ret.js"></a></p>
<h1>Usage</h1>
<div class="fragment"><div class="line">var ret = require(&#39;ret&#39;);</div><div class="line"></div><div class="line">var tokens = ret(/foo|bar/.source);</div></div><!-- fragment --><p><code>tokens</code> will contain the following object</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;type&quot;: ret.types.ROOT</div><div class="line">  &quot;options&quot;: [</div><div class="line">    [ { &quot;type&quot;: ret.types.CHAR, &quot;value&quot;, 102 },</div><div class="line">      { &quot;type&quot;: ret.types.CHAR, &quot;value&quot;, 111 },</div><div class="line">      { &quot;type&quot;: ret.types.CHAR, &quot;value&quot;, 111 } ],</div><div class="line">    [ { &quot;type&quot;: ret.types.CHAR, &quot;value&quot;,  98 },</div><div class="line">      { &quot;type&quot;: ret.types.CHAR, &quot;value&quot;,  97 },</div><div class="line">      { &quot;type&quot;: ret.types.CHAR, &quot;value&quot;, 114 } ]</div><div class="line">  ]</div><div class="line">}</div></div><!-- fragment --><h1>Token Types</h1>
<p><code>ret.types</code> is a collection of the various token types exported by ret.</p>
<h3>ROOT</h3>
<p>Only used in the root of the regexp. This is needed due to the posibility of the root containing a pipe <code>|</code> character. In that case, the token will have an <code>options</code> key that will be an array of arrays of tokens. If not, it will contain a <code>stack</code> key that is an array of tokens.</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;type&quot;: ret.types.ROOT,</div><div class="line">  &quot;stack&quot;: [token1, token2...],</div><div class="line">}</div></div><!-- fragment --><div class="fragment"><div class="line">{</div><div class="line">  &quot;type&quot;: ret.types.ROOT,</div><div class="line">  &quot;options&quot; [</div><div class="line">    [token1, token2...],</div><div class="line">    [othertoken1, othertoken2...]</div><div class="line">    ...</div><div class="line">  ],</div><div class="line">}</div></div><!-- fragment --><h3>GROUP</h3>
<p>Groups contain tokens that are inside of a parenthesis. If the group begins with <code>?</code> followed by another character, it's a special type of group. A ':' tells the group not to be remembered when <code>exec</code> is used. '=' means the previous token matches only if followed by this group, and '!' means the previous token matches only if NOT followed.</p>
<p>Like root, it can contain an <code>options</code> key instead of <code>stack</code> if there is a pipe.</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;type&quot;: ret.types.GROUP,</div><div class="line">  &quot;remember&quot; true,</div><div class="line">  &quot;followedBy&quot;: false,</div><div class="line">  &quot;notFollowedBy&quot;: false,</div><div class="line">  &quot;stack&quot;: [token1, token2...],</div><div class="line">}</div></div><!-- fragment --><div class="fragment"><div class="line">{</div><div class="line">  &quot;type&quot;: ret.types.GROUP,</div><div class="line">  &quot;remember&quot; true,</div><div class="line">  &quot;followedBy&quot;: false,</div><div class="line">  &quot;notFollowedBy&quot;: false,</div><div class="line">  &quot;options&quot; [</div><div class="line">    [token1, token2...],</div><div class="line">    [othertoken1, othertoken2...]</div><div class="line">    ...</div><div class="line">  ],</div><div class="line">}</div></div><!-- fragment --><h3>POSITION</h3>
<p><code>\b</code>, <code>\B</code>, <code>^</code>, and <code>$</code> specify positions in the regexp.</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;type&quot;: ret.types.POSITION,</div><div class="line">  &quot;value&quot;: &quot;^&quot;,</div><div class="line">}</div></div><!-- fragment --><h3>SET</h3>
<p>Contains a key <code>set</code> specifying what tokens are allowed and a key <code>not</code> specifying if the set should be negated. A set can contain other sets, ranges, and characters.</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;type&quot;: ret.types.SET,</div><div class="line">  &quot;set&quot;: [token1, token2...],</div><div class="line">  &quot;not&quot;: false,</div><div class="line">}</div></div><!-- fragment --><h3>RANGE</h3>
<p>Used in set tokens to specify a character range. <code>from</code> and <code>to</code> are character codes.</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;type&quot;: ret.types.RANGE,</div><div class="line">  &quot;from&quot;: 97,</div><div class="line">  &quot;to&quot;: 122,</div><div class="line">}</div></div><!-- fragment --><h3>REPETITION</h3>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;type&quot;: ret.types.REPETITION,</div><div class="line">  &quot;min&quot;: 0,</div><div class="line">  &quot;max&quot;: Infinity,</div><div class="line">  &quot;value&quot;: token,</div><div class="line">}</div></div><!-- fragment --><h3>REFERENCE</h3>
<p>References a group token. <code>value</code> is 1-9.</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;type&quot;: ret.types.REFERENCE,</div><div class="line">  &quot;value&quot;: 1,</div><div class="line">}</div></div><!-- fragment --><h3>CHAR</h3>
<p>Represents a single character token. <code>value</code> is the character code. This might seem a bit cluttering instead of concatenating characters together. But since repetition tokens only repeat the last token and not the last clause like the pipe, it's simpler to do it this way.</p>
<div class="fragment"><div class="line">{</div><div class="line">  &quot;type&quot;: ret.types.CHAR,</div><div class="line">  &quot;value&quot;: 123,</div><div class="line">}</div></div><!-- fragment --><h2>Errors</h2>
<p>ret.js will throw errors if given a string with an invalid regular expression. All possible errors are</p>
<ul>
<li>Invalid group. When a group with an immediate <code>?</code> character is followed by an invalid character. It can only be followed by <code>!</code>, <code>=</code>, or <code>:</code>. Example: <code>/(?_abc)/</code></li>
<li>Nothing to repeat. Thrown when a repetitional token is used as the first token in the current clause, as in right in the beginning of the regexp or group, or right after a pipe. Example: <code>/foo|?bar/</code>, <code>/{1,3}foo|bar/</code>, <code>/foo(+bar)/</code></li>
<li>Unmatched ). A group was not opened, but was closed. Example: <code>/hello)2u/</code></li>
<li>Unterminated group. A group was not closed. Example: <code>/(1(23)4/</code></li>
<li>Unterminated character class. A custom character set was not closed. Example: <code>/[abc/</code></li>
</ul>
<h1>Install</h1>
<pre class="fragment">npm install ret
</pre><h1>Tests</h1>
<p>Tests are written with <a href="http://vowsjs.org/">vows</a></p>
<div class="fragment"><div class="line">npm test</div></div><!-- fragment --><h1>License</h1>
<p>MIT </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
