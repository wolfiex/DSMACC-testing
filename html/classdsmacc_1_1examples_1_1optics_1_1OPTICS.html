<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DSMACC: dsmacc.examples.optics.OPTICS Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DSMACC
   &#160;<span id="projectnumber">2019</span>
   </div>
   <div id="projectbrief">Changes to DSMACC for the thesis of Daniel Ellis</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>dsmacc</b></li><li class="navelem"><b>examples</b></li><li class="navelem"><b>optics</b></li><li class="navelem"><a class="el" href="classdsmacc_1_1examples_1_1optics_1_1OPTICS.html">OPTICS</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classdsmacc_1_1examples_1_1optics_1_1OPTICS-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">dsmacc.examples.optics.OPTICS Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for dsmacc.examples.optics.OPTICS:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classdsmacc_1_1examples_1_1optics_1_1OPTICS.png" usemap="#dsmacc.examples.optics.OPTICS_map" alt=""/>
  <map id="dsmacc.examples.optics.OPTICS_map" name="dsmacc.examples.optics.OPTICS_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a476c32bea8626cc8f5f5133177fce38d"><td class="memItemLeft" align="right" valign="top"><a id="a476c32bea8626cc8f5f5133177fce38d"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>__init__</b> (self, min_samples=5, max_eps=np.inf, metric='minkowski', p=2, metric_params=None, cluster_method='xi', eps=None, xi=0.05, predecessor_correction=True, min_cluster_size=None, algorithm='auto', leaf_size=30, n_jobs=None)</td></tr>
<tr class="separator:a476c32bea8626cc8f5f5133177fce38d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade14f35d1a29e595c853098bc4e49b29"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdsmacc_1_1examples_1_1optics_1_1OPTICS.html#ade14f35d1a29e595c853098bc4e49b29">fit</a> (self, X, y=None)</td></tr>
<tr class="separator:ade14f35d1a29e595c853098bc4e49b29"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a80c71a976cf99530975a1adb71d2cbaf"><td class="memItemLeft" align="right" valign="top"><a id="a80c71a976cf99530975a1adb71d2cbaf"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>max_eps</b></td></tr>
<tr class="separator:a80c71a976cf99530975a1adb71d2cbaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ad8a30dbb5d9d84b98e37baf20f7618"><td class="memItemLeft" align="right" valign="top"><a id="a8ad8a30dbb5d9d84b98e37baf20f7618"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>min_samples</b></td></tr>
<tr class="separator:a8ad8a30dbb5d9d84b98e37baf20f7618"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d3c50ae93bcbc6a2612baf260ad7d94"><td class="memItemLeft" align="right" valign="top"><a id="a5d3c50ae93bcbc6a2612baf260ad7d94"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>min_cluster_size</b></td></tr>
<tr class="separator:a5d3c50ae93bcbc6a2612baf260ad7d94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75e195b82eea799d9e94c1956cc6c66f"><td class="memItemLeft" align="right" valign="top"><a id="a75e195b82eea799d9e94c1956cc6c66f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>algorithm</b></td></tr>
<tr class="separator:a75e195b82eea799d9e94c1956cc6c66f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb2e2a3c5a04df04f4f94be2f13efaad"><td class="memItemLeft" align="right" valign="top"><a id="adb2e2a3c5a04df04f4f94be2f13efaad"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>metric</b></td></tr>
<tr class="separator:adb2e2a3c5a04df04f4f94be2f13efaad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89535a272d1d184d93f80b6dff090a31"><td class="memItemLeft" align="right" valign="top"><a id="a89535a272d1d184d93f80b6dff090a31"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>metric_params</b></td></tr>
<tr class="separator:a89535a272d1d184d93f80b6dff090a31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82408728f0362e9d233e39d12fcd03e1"><td class="memItemLeft" align="right" valign="top"><a id="a82408728f0362e9d233e39d12fcd03e1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>p</b></td></tr>
<tr class="separator:a82408728f0362e9d233e39d12fcd03e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d373b48d80f3038e82c342b96b54c69"><td class="memItemLeft" align="right" valign="top"><a id="a7d373b48d80f3038e82c342b96b54c69"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>leaf_size</b></td></tr>
<tr class="separator:a7d373b48d80f3038e82c342b96b54c69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87965637067b2d8b1f637d37bb515767"><td class="memItemLeft" align="right" valign="top"><a id="a87965637067b2d8b1f637d37bb515767"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>cluster_method</b></td></tr>
<tr class="separator:a87965637067b2d8b1f637d37bb515767"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97a4180e51c3c75eb4228c346d17743a"><td class="memItemLeft" align="right" valign="top"><a id="a97a4180e51c3c75eb4228c346d17743a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>eps</b></td></tr>
<tr class="separator:a97a4180e51c3c75eb4228c346d17743a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b31638862860e1a40a445c42684c5ec"><td class="memItemLeft" align="right" valign="top"><a id="a9b31638862860e1a40a445c42684c5ec"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>xi</b></td></tr>
<tr class="separator:a9b31638862860e1a40a445c42684c5ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af93219440d342fe4df92835af1d69015"><td class="memItemLeft" align="right" valign="top"><a id="af93219440d342fe4df92835af1d69015"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>predecessor_correction</b></td></tr>
<tr class="separator:af93219440d342fe4df92835af1d69015"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c3666dfeb139ed4a23749efaf4e823e"><td class="memItemLeft" align="right" valign="top"><a id="a5c3666dfeb139ed4a23749efaf4e823e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>n_jobs</b></td></tr>
<tr class="separator:a5c3666dfeb139ed4a23749efaf4e823e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c0a2dbe9e260dcccc2812e631dd4792"><td class="memItemLeft" align="right" valign="top"><a id="a2c0a2dbe9e260dcccc2812e631dd4792"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>cluster_hierarchy_</b></td></tr>
<tr class="separator:a2c0a2dbe9e260dcccc2812e631dd4792"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59157cc711793bfd6390d870d522889c"><td class="memItemLeft" align="right" valign="top"><a id="a59157cc711793bfd6390d870d522889c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>labels_</b></td></tr>
<tr class="separator:a59157cc711793bfd6390d870d522889c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Estimate clustering structure from vector array

OPTICS (Ordering Points To Identify the Clustering Structure), closely
related to DBSCAN, finds core sample of high density and expands clusters
from them [1]_. Unlike DBSCAN, keeps cluster hierarchy for a variable
neighborhood radius. Better suited for usage on large datasets than the
current sklearn implementation of DBSCAN.

Clusters are then extracted using a DBSCAN-like method
(cluster_method = 'dbscan') or an automatic
technique proposed in [1]_ (cluster_method = 'xi').

This implementation deviates from the original OPTICS by first performing
k-nearest-neighborhood searches on all points to identify core sizes, then
computing only the distances to unprocessed points when constructing the
cluster order. Note that we do not employ a heap to manage the expansion
candidates, so the time complexity will be O(n^2).

Read more in the :ref:`User Guide &lt;optics&gt;`.

Parameters
----------
min_samples : int &gt; 1 or float between 0 and 1 (default=5)
    The number of samples in a neighborhood for a point to be considered as
    a core point. Also, up and down steep regions can't have more then
    ``min_samples`` consecutive non-steep points. Expressed as an absolute
    number or a fraction of the number of samples (rounded to be at least
    2).

max_eps : float, optional (default=np.inf)
    The maximum distance between two samples for one to be considered as
    in the neighborhood of the other. Default value of ``np.inf`` will
    identify clusters across all scales; reducing ``max_eps`` will result
    in shorter run times.

metric : string or callable, optional (default='minkowski')
    Metric to use for distance computation. Any metric from scikit-learn
    or scipy.spatial.distance can be used.

    If metric is a callable function, it is called on each
    pair of instances (rows) and the resulting value recorded. The callable
    should take two arrays as input and return one value indicating the
    distance between them. This works for Scipy's metrics, but is less
    efficient than passing the metric name as a string. If metric is
    "precomputed", X is assumed to be a distance matrix and must be square.

    Valid values for metric are:

    - from scikit-learn: ['cityblock', 'cosine', 'euclidean', 'l1', 'l2',
      'manhattan']

    - from scipy.spatial.distance: ['braycurtis', 'canberra', 'chebyshev',
      'correlation', 'dice', 'hamming', 'jaccard', 'kulsinski',
      'mahalanobis', 'minkowski', 'rogerstanimoto', 'russellrao',
      'seuclidean', 'sokalmichener', 'sokalsneath', 'sqeuclidean',
      'yule']

    See the documentation for scipy.spatial.distance for details on these
    metrics.

p : integer, optional (default=2)
    Parameter for the Minkowski metric from
    :class:`sklearn.metrics.pairwise_distances`. When p = 1, this is
    equivalent to using manhattan_distance (l1), and euclidean_distance
    (l2) for p = 2. For arbitrary p, minkowski_distance (l_p) is used.

metric_params : dict, optional (default=None)
    Additional keyword arguments for the metric function.

cluster_method : string, optional (default='xi')
    The extraction method used to extract clusters using the calculated
    reachability and ordering. Possible values are "xi" and "dbscan".

eps : float, optional (default=None)
    The maximum distance between two samples for one to be considered as
    in the neighborhood of the other. By default it assumes the same value
    as ``max_eps``.
    Used only when ``cluster_method='dbscan'``.

xi : float, between 0 and 1, optional (default=0.05)
    Determines the minimum steepness on the reachability plot that
    constitutes a cluster boundary. For example, an upwards point in the
    reachability plot is defined by the ratio from one point to its
    successor being at most 1-xi.
    Used only when ``cluster_method='xi'``.

predecessor_correction : bool, optional (default=True)
    Correct clusters according to the predecessors calculated by OPTICS
    [2]_. This parameter has minimal effect on most datasets.
    Used only when ``cluster_method='xi'``.

min_cluster_size : int &gt; 1 or float between 0 and 1 (default=None)
    Minimum number of samples in an OPTICS cluster, expressed as an
    absolute number or a fraction of the number of samples (rounded to be
    at least 2). If ``None``, the value of ``min_samples`` is used instead.
    Used only when ``cluster_method='xi'``.

algorithm : {'auto', 'ball_tree', 'kd_tree', 'brute'}, optional
    Algorithm used to compute the nearest neighbors:

    - 'ball_tree' will use :class:`BallTree`
    - 'kd_tree' will use :class:`KDTree`
    - 'brute' will use a brute-force search.
    - 'auto' will attempt to decide the most appropriate algorithm
      based on the values passed to :meth:`fit` method. (default)

    Note: fitting on sparse input will override the setting of
    this parameter, using brute force.

leaf_size : int, optional (default=30)
    Leaf size passed to :class:`BallTree` or :class:`KDTree`. This can
    affect the speed of the construction and query, as well as the memory
    required to store the tree. The optimal value depends on the
    nature of the problem.

n_jobs : int or None, optional (default=None)
    The number of parallel jobs to run for neighbors search.
    ``None`` means 1 unless in a :obj:`joblib.parallel_backend` context.
    ``-1`` means using all processors. See :term:`Glossary &lt;n_jobs&gt;`
    for more details.

Attributes
----------
labels_ : array, shape (n_samples,)
    Cluster labels for each point in the dataset given to fit().
    Noisy samples and points which are not included in a leaf cluster
    of ``cluster_hierarchy_`` are labeled as -1.

reachability_ : array, shape (n_samples,)
    Reachability distances per sample, indexed by object order. Use
    ``clust.reachability_[clust.ordering_]`` to access in cluster order.

ordering_ : array, shape (n_samples,)
    The cluster ordered list of sample indices.

core_distances_ : array, shape (n_samples,)
    Distance at which each sample becomes a core point, indexed by object
    order. Points which will never be core have a distance of inf. Use
    ``clust.core_distances_[clust.ordering_]`` to access in cluster order.

predecessor_ : array, shape (n_samples,)
    Point that a sample was reached from, indexed by object order.
    Seed points have a predecessor of -1.

cluster_hierarchy_ : array, shape (n_clusters, 2)
    The list of clusters in the form of ``[start, end]`` in each row, with
    all indices inclusive. The clusters are ordered according to
    ``(end, -start)`` (ascending) so that larger clusters encompassing
    smaller clusters come after those smaller ones. Since ``labels_`` does
    not reflect the hierarchy, usually
    ``len(cluster_hierarchy_) &gt; np.unique(optics.labels_)``. Please also
    note that these indices are of the ``ordering_``, i.e.
    ``X[ordering_][start:end + 1]`` form a cluster.
    Only available when ``cluster_method='xi'``.

See also
--------
DBSCAN
    A similar clustering for a specified neighborhood radius (eps).
    Our implementation is optimized for runtime.

References
----------
.. [1] Ankerst, Mihael, Markus M. Breunig, Hans-Peter Kriegel,
   and Jörg Sander. "OPTICS: ordering points to identify the clustering
   structure." ACM SIGMOD Record 28, no. 2 (1999): 49-60.

.. [2] Schubert, Erich, Michael Gertz.
   "Improving the Cluster Structure Extracted from OPTICS Plots." Proc. of
   the Conference "Lernen, Wissen, Daten, Analysen" (LWDA) (2018): 318-329.
</pre> </div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ade14f35d1a29e595c853098bc4e49b29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade14f35d1a29e595c853098bc4e49b29">&#9670;&nbsp;</a></span>fit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dsmacc.examples.optics.OPTICS.fit </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Perform OPTICS clustering

Extracts an ordered list of points and reachability distances, and
performs initial clustering using ``max_eps`` distance specified at
OPTICS object instantiation.

Parameters
----------
X : array, shape (n_samples, n_features), or (n_samples, n_samples)  \
if metric=’precomputed’.
    A feature array, or array of distances between samples if
    metric='precomputed'.

y : ignored

Returns
-------
self : instance of OPTICS
    The instance.
</pre> <div class="fragment"><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keyword">def </span>fit(self, X, y=None):</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Perform OPTICS clustering</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="stringliteral">        Extracts an ordered list of points and reachability distances, and</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="stringliteral">        performs initial clustering using ``max_eps`` distance specified at</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="stringliteral">        OPTICS object instantiation.</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="stringliteral">        Parameters</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="stringliteral">        ----------</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="stringliteral">        X : array, shape (n_samples, n_features), or (n_samples, n_samples)  \</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="stringliteral">if metric=’precomputed’.</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="stringliteral">            A feature array, or array of distances between samples if</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="stringliteral">            metric=&#39;precomputed&#39;.</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="stringliteral">        y : ignored</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="stringliteral">        Returns</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="stringliteral">        -------</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="stringliteral">        self : instance of OPTICS</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="stringliteral">            The instance.</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        X = check_array(X, dtype=np.float)</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <span class="keywordflow">if</span> self.cluster_method <span class="keywordflow">not</span> <span class="keywordflow">in</span> [<span class="stringliteral">&#39;dbscan&#39;</span>, <span class="stringliteral">&#39;xi&#39;</span>]:</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;cluster_method should be one of&quot;</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                             <span class="stringliteral">&quot; &#39;dbscan&#39; or &#39;xi&#39; but is %s&quot;</span> %</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                             self.cluster_method)</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        (self.ordering_, self.core_distances_, self.reachability_,</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;         self.predecessor_) = compute_optics_graph(</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;             X=X, min_samples=self.min_samples, algorithm=self.algorithm,</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;             leaf_size=self.leaf_size, metric=self.metric,</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;             metric_params=self.metric_params, p=self.p, n_jobs=self.n_jobs,</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;             max_eps=self.max_eps)</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="comment"># Extract clusters from the calculated orders and reachability</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="keywordflow">if</span> self.cluster_method == <span class="stringliteral">&#39;xi&#39;</span>:</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            labels_, clusters_ = cluster_optics_xi(</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                self.reachability_,</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                self.predecessor_,</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                self.ordering_,</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                self.min_samples,</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                self.min_cluster_size,</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                self.xi,</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                self.predecessor_correction)</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            self.cluster_hierarchy_ = clusters_</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="keywordflow">elif</span> self.cluster_method == <span class="stringliteral">&#39;dbscan&#39;</span>:</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            <span class="keywordflow">if</span> self.eps <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                eps = self.max_eps</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                eps = self.eps</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            <span class="keywordflow">if</span> eps &gt; self.max_eps:</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;Specify an epsilon smaller than %s. Got %s.&#39;</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                                 % (self.max_eps, eps))</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            labels_ = cluster_optics_dbscan(self.reachability_,</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                                            self.core_distances_,</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                                            self.ordering_,</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                                            eps)</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        self.labels_ = labels_</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="keywordflow">return</span> self</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>dsmacc/examples/optics.py</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
