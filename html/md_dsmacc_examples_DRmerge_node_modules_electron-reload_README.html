<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DSMACC: electron reload</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DSMACC
   &#160;<span id="projectnumber">2019</span>
   </div>
   <div id="projectbrief">Changes to DSMACC for the thesis of Daniel Ellis</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">electron reload </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This is (<em>hopefully</em>) the simplest way to load contents of all active https://github.com/atom/electron/blob/master/docs/api/browser-window.md "`BrowserWindow`s" within electron when the source files are changed.</p>
<p><a href="https://travis-ci.org/yan-foto/electron-reload"></a> <a href="https://github.com/yan-foto/neutron"></a> <a href="https://www.npmjs.com/package/electron-reload"></a> <a href="https://codeclimate.com/github/yan-foto/electron-reload"></a> <a href="https://snyk.io/test/github/yan-foto/electron-reload"></a> </p><div class="image">
<object type="image/svg+xml" data="https://img.shields.io/npm/l/electron-reload.svg" alt="license"></object>
</div>
<p><b>Disclaimer</b>: this module is in its very early stages and the logic is still not mature enough.</p>
<p># Installation </p><div class="fragment"><div class="line">npm install electron-reload</div></div><!-- fragment --><h1>Usage</h1>
<p>Just initialize this module with desired glob or file path to watch and let it refresh electron browser windows as targets are changed:</p>
<div class="fragment"><div class="line">&#39;use strict&#39;;</div><div class="line"></div><div class="line">const {app, BrowserWindow} = require(&#39;electron&#39;);</div><div class="line"></div><div class="line">require(&#39;electron-reload&#39;)(__dirname);</div><div class="line"></div><div class="line">// Standard stuff</div><div class="line">app.on(&#39;ready&#39;, () {</div><div class="line">  let mainWindow = new BrowserWindow({width: 800, height: 600});</div><div class="line"></div><div class="line">  mainWindow.loadUrl(`file://${__dirname}/index.html`);</div><div class="line">  // the rest...</div><div class="line">});</div></div><!-- fragment --><p>Note that the above code only refreshes <code>WebContent</code>s of all <code>BrowserWindow</code>s. So if you want to have a hard reset (starting a new electron process) you can just pass the path to the electron executable in the <code>options</code> object. For example if you already have electron pre-built installed you could just do</p>
<div class="fragment"><div class="line">require(&#39;electron-reload&#39;)(__dirname, {</div><div class="line">  electron: require(&#39;electron-prebuilt&#39;)</div><div class="line">});</div></div><!-- fragment --><p>You could also use the (relatively) new <a href="https://www.npmjs.com/package/electron"><code>electron</code></a> package, <em>but</em> you should specify the path directly (no <code>require</code>!):</p>
<div class="fragment"><div class="line">const path = require(&#39;path&#39;)</div><div class="line"></div><div class="line">require(&#39;electron-reload&#39;)(__dirname, {</div><div class="line">  electron: path.join(__dirname, &#39;node_modules&#39;, &#39;.bin&#39;, &#39;electron&#39;)</div><div class="line">});</div></div><!-- fragment --><p>If your app overrides some of the default <code>quit</code> or <code>close</code> actions (e.g. closing the last app window hides the window instead of quitting the app) then the default <code>electron-reload</code> hard restart could leave you with multiple instances of your app running. In these cases you can change the default hard restart action from <code>app.quit()</code> to <code>app.exit()</code> by specifying the hard reset method in the electron-reload options:</p>
<div class="fragment"><div class="line">const path = require(&#39;path&#39;)</div><div class="line"></div><div class="line">require(&#39;electron-reload&#39;)(__dirname, {</div><div class="line">  electron: path.join(__dirname, &#39;node_modules&#39;, &#39;.bin&#39;, &#39;electron&#39;),</div><div class="line">  hardResetMethod: &#39;exit&#39;</div><div class="line">});</div></div><!-- fragment --><h1>API</h1>
<p><code>electron_reload(paths, options)</code></p><ul>
<li><code>paths</code>: a file, directory or glob pattern to watch</li>
<li><p class="startli"><code>options</code> (optional) containing:</p><ul>
<li><a href="https://github.com/paulmillr/chokidar"><code>chokidar</code></a> options</li>
<li><code>electron</code> property pointing to electron executables.</li>
<li><code>argv</code> string array with command line options passed to the executed Electron app. Only used when hard resetting.</li>
<li><code>forceHardReset</code>: enables hard reset for <b>every</b> file change and not only the main file</li>
</ul>
<p class="startli"><code>options</code> will default to <code>{ignored: /node_modules|[\/\\]\./, argv: []}</code>.</p>
</li>
</ul>
<h1>Why this module?</h1>
<p>Simply put, I was tired and confused by all other available modules which are so complicated* for such an uncomplicated task!</p>
<ul>
<li><em>e.g. start a local HTTP server, publish change events through a WebSocket, etc.!</em></li>
</ul>
<h1>Even more!</h1>
<p>If you want to have least effort when developing electron packages, take a look at <a href="https://github.com/yan-foto/neutron">neutron</a>!</p>
<h1>Changelog</h1>
<ul>
<li><b>1.5.0</b>:<ul>
<li>Upgrade <code>chokidar</code> from v2 to v3 (lighter/faster installation)</li>
<li>Add friendly linting in dev mode (<code>node run lint</code>) and fix CI linting issues (see <a href="https://github.com/yan-foto/electron-reload/pull/62">#62</a>)</li>
</ul>
</li>
<li><b>1.4.1</b>: Fix two minor bugs<ul>
<li>Wrong globbing when doing hard reset (<a href="https://github.com/yan-foto/electron-reload/issues/58"><code>#58</code></a>)</li>
<li>Issues with locating main file in specific project structures (<a href="https://github.com/yan-foto/electron-reload/issues/57"><code>#57</code></a>)</li>
</ul>
</li>
<li><b>1.4.0</b>: Enable hard reset for all changes (and not only the main file)</li>
<li><b>1.3.0</b>: Allow passing arguments to electron executable upon hard resets</li>
<li><b>1.2.5</b>: Upgrade dependencies (fix vulnerabilities)</li>
<li><b>1.2.4</b>: Use <code>index.js</code> as fallback if <code>main</code> is not defined in <code>package.json</code></li>
<li><b>1.2.3</b>: Fix multiple instances on restart</li>
<li><b>1.2.2</b>: Fix <code>browserWindows[]</code> indexing</li>
<li><b>1.2.1</b>: Remove logging from production code (d'oh)</li>
<li><b>1.2.0</b>: Allow hard reset in multiple browser windows</li>
<li><b>1.1.0</b>: Add <code>app.exit()</code> in addition to <code>app.quit()</code> for hard resets</li>
<li><b>1.0.3</b>: Fix hard reset bug</li>
<li><b>1.0.2</b>: Detach child so that killing parent doesn't kill it (on windows)</li>
<li><b>1.0.1</b>: Replace <code>extend</code> with <code>Object.assign</code></li>
<li><b>1.0.0</b>: Adapt to Electron 1.0 new API</li>
<li><b>0.3.0</b>: Use new method of accessing <code>app</code> (e.g. <code>require(electron).app</code>)</li>
<li><b>0.2.0</b>: Use new electrons (&gt; v0.32.3) <code>browser-window-created</code> event </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
