<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DSMACC: get-package-info [![Build Status](https://travis-ci.org/rahatarmanahmed/get-package-info.svg?branch=master)](https://travis-ci.org/rahatarmanahmed/get-package-info)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DSMACC
   &#160;<span id="projectnumber">2019</span>
   </div>
   <div id="projectbrief">Changes to DSMACC for the thesis of Daniel Ellis</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">get-package-info [![Build Status](<a href="https://travis-ci.org/rahatarmanahmed/get-package-info.svg?branch=master">https://travis-ci.org/rahatarmanahmed/get-package-info.svg?branch=master</a>)](<a href="https://travis-ci.org/rahatarmanahmed/get-package-info">https://travis-ci.org/rahatarmanahmed/get-package-info</a>) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Gets properties from package.json files in parent directories.</p>
<h2>Installing</h2>
<p><code>npm install get-package-info</code></p>
<h2>Usage</h2>
<h3><code>getPackageInfo(props, dir, [cb])</code></h3>
<p>Searches for properties from package.json starting from the given directory going upwards, until all properties are found. Properties are set to the first instance found, and not overwritten. It returns a promise that resolves with the results (see <a href="#Example">example</a> below for the structure of the results object). You may also specify a node-style callback if you prefer.</p>
<h4><code>props</code></h4>
<p>An array of string properties to search for. Nested properties can be retreived with dot notation (ex: <code>dependencies.lodash</code>).</p>
<p>If an individual property is an array, it will search for those properties in order, and the first value found will be saved under all the given properties. This is useful if you want at least one of those properties, but don't want the search to fail when it finds one but not another. Ex: &lsquo;getPackageInfo([['dependencies.lodash&rsquo;, 'devDependencies.lodash']], dir)<code>will search for lodash in both</code>dependencies<code>and</code>devDependencies`, and save whichever one it finds first under both properties in the results.</p>
<h4><code>dir</code></h4>
<p>The initial directory to search in. <code>getPackageInfo(props, dir)</code> will look for a package.json in <code>dir</code>, and get the requested properties. If all the properties are not found, it will look in package.json files in parent directories.</p>
<p>## Example </p><div class="fragment"><div class="line">var getPackageInfo = require(&#39;get-package-info&#39;);</div><div class="line"></div><div class="line">getPackageInfo([[&#39;productName&#39;, &#39;name&#39;], &#39;dependencies.lodash&#39;], &#39;/path/to/dir&#39;)</div><div class="line">.then((result) =&gt; {</div><div class="line">    console.log(result);</div><div class="line">});</div></div><!-- fragment --><p>Possible output, depending on the directory structure and package.json contents:</p>
<div class="fragment"><div class="line">{</div><div class="line">    values: {</div><div class="line">        name: &#39;package-name&#39;,</div><div class="line">        &#39;dependencies.lodash&#39;: &#39;~3.0.0&#39;</div><div class="line">    },</div><div class="line">    source: {</div><div class="line">        productName: {</div><div class="line">            src: &#39;/path/to/dir/package.json&#39;,</div><div class="line">            pkg: { ... }, // the parsed package.json this property came from</div><div class="line">            prop: &#39;productName&#39;</div><div class="line">        },</div><div class="line">        name: {</div><div class="line">            src: &#39;/path/to/dir/package.json&#39;,</div><div class="line">            pkg: { ... }, // the parsed package.json this property came from</div><div class="line">            prop: &#39;productName&#39; // name uses productName&#39;s value because productName has priority</div><div class="line">        },</div><div class="line">        &#39;dependencies.lodash&#39;: {</div><div class="line">            src: &#39;/path/to/package.json&#39;, // This property was found in a higher directory</div><div class="line">            pkg: { ... },</div><div class="line">            prop: &#39;dependencies.lodash&#39;</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div><div class="line">*/</div></div><!-- fragment --><h2>Handling Errors</h2>
<p>If all the properties cannot be found in parent package.json files, then <code>getPackageInfo()</code> will reject it's promise (or callback with err argument) with an Error. <code>err.missingProps</code> will have an array of the properties that it could not find, and <code>err.result</code> will contain all the props that were found.</p>
<p>If any other error occurs(like I/O or runtime errors), <code>getPackageInfo()</code> will reject with that error itself. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
