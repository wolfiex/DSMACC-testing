A backwards-\/compatible fs.\+realpath for \mbox{\hyperlink{classNode}{Node}} v6 and above

In \mbox{\hyperlink{classNode}{Node}} v6, the Java\+Script implementation of fs.\+realpath was replaced with a faster (but less resilient) native implementation. That raises new and platform-\/specific errors and cannot handle long or excessively symlink-\/looping paths.

This module handles those cases by detecting the new errors and falling back to the Java\+Script implementation. On versions of \mbox{\hyperlink{classNode}{Node}} prior to v6, it has no effect.

\subsection*{U\+S\+A\+GE}


\begin{DoxyCode}
var rp = require('fs.realpath')

// async version
rp.realpath(someLongAndLoopingPath, function (er, real) \{
  // the ELOOP was handled, but it was a bit slower
\})

// sync version
var real = rp.realpathSync(someLongAndLoopingPath)

// monkeypatch at your own risk!
// This replaces the fs.realpath/fs.realpathSync builtins
rp.monkeypatch()

// un-do the monkeypatching
rp.unmonkeypatch()
\end{DoxyCode}
 