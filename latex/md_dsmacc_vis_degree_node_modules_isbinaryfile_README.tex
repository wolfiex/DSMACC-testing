Detects if a file is binary in Node.\+js. Similar to \href{http://stackoverflow.com/questions/899206/how-does-perl-know-a-file-is-binary}{\tt Perl\textquotesingle{}s {\ttfamily -\/B} switch}, in that\+:
\begin{DoxyItemize}
\item it reads the first few thousand bytes of a file
\item checks for a {\ttfamily null} byte; if it\textquotesingle{}s found, it\textquotesingle{}s binary
\item flags non-\/\+A\+S\+C\+II characters. After a certain number of \char`\"{}weird\char`\"{} characters, the file is flagged as binary
\end{DoxyItemize}

Much of the logic is pretty much ported from \href{https://github.com/ggreer/the_silver_searcher}{\tt ag}.

Note\+: if the file doesn\textquotesingle{}t exist, is a directory, or is empty, the function returns {\ttfamily false}.

\subsection*{Installation}


\begin{DoxyCode}
npm install isbinaryfile
\end{DoxyCode}


\subsection*{Usage}

\subsubsection*{is\+Binary\+File(filepath, callback)}


\begin{DoxyItemize}
\item {\ttfamily filepath}, a {\ttfamily string} indicating the path to the file.
\item {\ttfamily callback}, a {\ttfamily function} for the callback. It has two arguments\+:
\begin{DoxyItemize}
\item {\ttfamily err}, the typical Node.\+js error argument
\item {\ttfamily result}, a {\ttfamily boolean} of {\ttfamily true} or {\ttfamily false}, depending on if the file is binary
\end{DoxyItemize}
\end{DoxyItemize}

\subsubsection*{is\+Binary\+File(bytes, size, callback)}


\begin{DoxyItemize}
\item {\ttfamily bytes}, a {\ttfamily Buffer} of the file\textquotesingle{}s contents.
\item {\ttfamily size}, an optional {\ttfamily number} indicating the file size.
\item {\ttfamily callback}, a {\ttfamily function} for the callback. It has two arguments\+:
\begin{DoxyItemize}
\item {\ttfamily err}, the typical Node.\+js error argument
\item {\ttfamily result}, a {\ttfamily boolean} of {\ttfamily true} or {\ttfamily false}, depending on if the file is binary
\end{DoxyItemize}
\end{DoxyItemize}

\subsubsection*{is\+Binary\+File.\+sync(filepath)}


\begin{DoxyItemize}
\item {\ttfamily filepath}, a {\ttfamily string} indicating the path to the file.
\end{DoxyItemize}

\subsubsection*{is\+Binary\+File.\+sync(bytes, size)}


\begin{DoxyItemize}
\item {\ttfamily bytes}, a {\ttfamily Buffer} of the file\textquotesingle{}s contents.
\item {\ttfamily size}, an {\ttfamily number} indicating the file size.
\end{DoxyItemize}

Returns a {\ttfamily boolean} of {\ttfamily true} or {\ttfamily false}, depending on if the file is binary.

\subsubsection*{Examples}


\begin{DoxyCode}
var isBinaryFile = require("isbinaryfile");

fs.readFile("some\_file", function(err, data) \{
  fs.lstat("some\_file", function(err, stat) \{
    isBinaryFile(data, stat.size, function (err, result) \{
      if (!err) \{
        if (result) \{
          console.log("It is!")
        \}
        else \{
          console.log("No.")
        \}
      \}
    \});
  \});
\});

isBinaryFile.sync("some\_file"); // true or false
var bytes = fs.readFileSync(("some\_file"));
var size = fs.lstatSync(("some\_file").size;
isBinaryFile.sync(bytes, size); // true or false
\end{DoxyCode}


\subsection*{Testing}

Run {\ttfamily npm install} to install {\ttfamily mocha}, then run {\ttfamily npm test}. 