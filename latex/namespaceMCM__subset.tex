\hypertarget{namespaceMCM__subset}{}\section{M\+C\+M\+\_\+subset Namespace Reference}
\label{namespaceMCM__subset}\index{M\+C\+M\+\_\+subset@{M\+C\+M\+\_\+subset}}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{namespaceMCM__subset_a415b347a64e3092f8a3bf6e322ddba18}\label{namespaceMCM__subset_a415b347a64e3092f8a3bf6e322ddba18}} 
def {\bfseries reorder} (x)
\item 
def \mbox{\hyperlink{namespaceMCM__subset_a4b3a88b2d7b093981b698e0227194e3f}{trace}} (spec)
\begin{DoxyCompactList}\small\item\em using all reactions generated from specie list if a species is in the products, and all reactants present... \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceMCM__subset_ab3d8a7784d36f47ac51ea065839bca41}\label{namespaceMCM__subset_ab3d8a7784d36f47ac51ea065839bca41}} 
def {\bfseries is\+\_\+excited} (x)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{namespaceMCM__subset_a9df50dc647ca2746e52b9a516c3073dc}\label{namespaceMCM__subset_a9df50dc647ca2746e52b9a516c3073dc}} 
int {\bfseries available\+\_\+cores} = 16
\item 
\mbox{\Hypertarget{namespaceMCM__subset_a893f888de3ba337a3874acf9df8fa873}\label{namespaceMCM__subset_a893f888de3ba337a3874acf9df8fa873}} 
bool {\bfseries include\+\_\+\+C\+O2} = True
\item 
\mbox{\Hypertarget{namespaceMCM__subset_acdc7ae482446894e3346ed0aa4fddfaa}\label{namespaceMCM__subset_acdc7ae482446894e3346ed0aa4fddfaa}} 
{\bfseries filename1}
\item 
\mbox{\Hypertarget{namespaceMCM__subset_a2e8d1087089225cc53c89c15470643e3}\label{namespaceMCM__subset_a2e8d1087089225cc53c89c15470643e3}} 
{\bfseries full} = tuple(open(filename1))
\item 
\mbox{\Hypertarget{namespaceMCM__subset_a12f291689a3726c5ffed99e21265962f}\label{namespaceMCM__subset_a12f291689a3726c5ffed99e21265962f}} 
{\bfseries filename}
\item 
\mbox{\Hypertarget{namespaceMCM__subset_a754521b15c8923d2bcde8613d72c6335}\label{namespaceMCM__subset_a754521b15c8923d2bcde8613d72c6335}} 
{\bfseries inorganics} = tuple(open(filename))
\item 
\mbox{\Hypertarget{namespaceMCM__subset_a268e680cfa37f137fee0efc751c8093f}\label{namespaceMCM__subset_a268e680cfa37f137fee0efc751c8093f}} 
{\bfseries gen} = xrange(len(full))
\item 
\mbox{\Hypertarget{namespaceMCM__subset_ac4cfa9c0deab5210533157c4ed94197a}\label{namespaceMCM__subset_ac4cfa9c0deab5210533157c4ed94197a}} 
{\bfseries nocoeff} = rx.\+compile(r\textquotesingle{}\textbackslash{}b\mbox{[}\textbackslash{}d\textbackslash{}.\mbox{]}$\ast$(\textbackslash{}w+)\textbackslash{}b\textquotesingle{})
\item 
\mbox{\Hypertarget{namespaceMCM__subset_af7fbdb07ba01cebc947dc229dedda6e3}\label{namespaceMCM__subset_af7fbdb07ba01cebc947dc229dedda6e3}} 
{\bfseries inorganic\+\_\+species} = set(rx.\+findall(r\textquotesingle{}(\mbox{[}A-\/z0-\/9\mbox{]}$\ast$)\mbox{[}\textbackslash{}s=\mbox{]}$\ast$I\+G\+N\+O\+RE\textquotesingle{} ,str(inorganics)))
\item 
\mbox{\Hypertarget{namespaceMCM__subset_aa0a7b2c274b367c49926dc2d96194d70}\label{namespaceMCM__subset_aa0a7b2c274b367c49926dc2d96194d70}} 
{\bfseries all\+\_\+species} = rx.\+findall(r\textquotesingle{}\textbackslash{}b\mbox{[}\textbackslash{}d\textbackslash{}.\mbox{]}$\ast$(\textbackslash{}w+)\textbackslash{}b\mbox{[}\textbackslash{}s=\mbox{]}$\ast$I\+G\+N\+O\+RE\textquotesingle{} ,str(full))
\item 
\mbox{\Hypertarget{namespaceMCM__subset_a56ea7d881cc071fbab5561cfefe7ce64}\label{namespaceMCM__subset_a56ea7d881cc071fbab5561cfefe7ce64}} 
{\bfseries sarr} = pd.\+Series(index=all\+\_\+species)
\item 
\mbox{\Hypertarget{namespaceMCM__subset_a4653f27b3fa3778790844e801bdec05f}\label{namespaceMCM__subset_a4653f27b3fa3778790844e801bdec05f}} 
{\bfseries num2spec} = dict(enumerate(all\+\_\+species))
\item 
\mbox{\Hypertarget{namespaceMCM__subset_abeb5ded13e36856ae48e2c746695a4e1}\label{namespaceMCM__subset_abeb5ded13e36856ae48e2c746695a4e1}} 
dictionary {\bfseries spec2num} = \{v\+: k for k, v in num2spec.\+iteritems()\}
\item 
\mbox{\Hypertarget{namespaceMCM__subset_a8159a981676126b362c9ed87ff09afc4}\label{namespaceMCM__subset_a8159a981676126b362c9ed87ff09afc4}} 
string {\bfseries fullstr} = \textquotesingle{}\textquotesingle{}.join(full+inorganics).replace(\textquotesingle{}\textbackslash{}n\textquotesingle{},\textquotesingle{}\textquotesingle{}).replace(\textquotesingle{}\textbackslash{}t\textquotesingle{},\textquotesingle{}\textquotesingle{}).replace(\textquotesingle{} \textquotesingle{},\textquotesingle{}\textquotesingle{})
\item 
\mbox{\Hypertarget{namespaceMCM__subset_a84d5a9db9ceb0bb1f48b8be00254fc2a}\label{namespaceMCM__subset_a84d5a9db9ceb0bb1f48b8be00254fc2a}} 
list {\bfseries eqn} = \mbox{[}i.\+replace(\textquotesingle{} \textquotesingle{},\textquotesingle{}\textquotesingle{}).split(\textquotesingle{}\+:\textquotesingle{}) for i in rx.\+findall(r\textquotesingle{}\mbox{[}$^\wedge$/\mbox{]}\{0,2\}\textbackslash{}\{\mbox{[}\textbackslash{}. \textbackslash{}s\textbackslash{}w\textbackslash{}d\mbox{]}$\ast$\textbackslash{}\}(\mbox{[}A-\/z0-\/9+-\/=\+:()$\ast$/\mbox{]}$\ast$);\textquotesingle{} ,fullstr)\mbox{]}
\item 
\mbox{\Hypertarget{namespaceMCM__subset_a89c4f6b1a9a45b6d33d55df1852cecfa}\label{namespaceMCM__subset_a89c4f6b1a9a45b6d33d55df1852cecfa}} 
{\bfseries eqdf} = pd.\+Data\+Frame(eqn)
\item 
\mbox{\Hypertarget{namespaceMCM__subset_af894333cf3057e35a90d8b0cfb092107}\label{namespaceMCM__subset_af894333cf3057e35a90d8b0cfb092107}} 
string {\bfseries grp} = \textquotesingle{},\textquotesingle{}.join(eqdf\mbox{[}1\mbox{]})
\item 
\mbox{\Hypertarget{namespaceMCM__subset_a001a9041e9f940d6e35b92d52e174c83}\label{namespaceMCM__subset_a001a9041e9f940d6e35b92d52e174c83}} 
{\bfseries constants} = rx.\+findall(r\textquotesingle{}\textbackslash{}b(\mbox{[}A-\/z\mbox{]}\textbackslash{}w+)\textbackslash{}b\textquotesingle{},grp)
\item 
\mbox{\Hypertarget{namespaceMCM__subset_af76d4943f2c9562b99c80dc7521a4798}\label{namespaceMCM__subset_af76d4943f2c9562b99c80dc7521a4798}} 
list {\bfseries new1} = \mbox{[}$\,$\mbox{]}
\item 
\mbox{\Hypertarget{namespaceMCM__subset_ae56758b4f93909f3e72e116965a57771}\label{namespaceMCM__subset_ae56758b4f93909f3e72e116965a57771}} 
{\bfseries dupreactions} = np.\+array(eqdf\mbox{[}eqdf\mbox{[}0\mbox{]}.duplicated()\mbox{]}\mbox{[}0\mbox{]})
\item 
\mbox{\Hypertarget{namespaceMCM__subset_a7443d63ca810dc496f1fe014e9b13252}\label{namespaceMCM__subset_a7443d63ca810dc496f1fe014e9b13252}} 
{\bfseries dup} = eqdf\mbox{[}0\mbox{]}.duplicated(keep=False)
\item 
\mbox{\Hypertarget{namespaceMCM__subset_ad80da31b597ee18c4c4daff0693c184b}\label{namespaceMCM__subset_ad80da31b597ee18c4c4daff0693c184b}} 
list {\bfseries equations} = \mbox{[} i\mbox{[}0\mbox{]}.split(\textquotesingle{}=\textquotesingle{}) for i in eqn\mbox{]}
\item 
\mbox{\Hypertarget{namespaceMCM__subset_a1b27aea0c13434907615081e43aa0f36}\label{namespaceMCM__subset_a1b27aea0c13434907615081e43aa0f36}} 
list {\bfseries eq\+\_\+split} = \mbox{[}\mbox{[}set(i\mbox{[}0\mbox{]}.split(\textquotesingle{}+\textquotesingle{})), set(i\mbox{[}1\mbox{]}.split(\textquotesingle{}+\textquotesingle{}))\mbox{]} for i in equations\mbox{]}
\item 
\mbox{\Hypertarget{namespaceMCM__subset_a4945e4d417c749a704dc9fea077266f5}\label{namespaceMCM__subset_a4945e4d417c749a704dc9fea077266f5}} 
\mbox{\hyperlink{namespaceMCM__subset_a4945e4d417c749a704dc9fea077266f5}{file\+\_\+list}} = glob.\+glob(\textquotesingle{}../Init\+Cons/$\ast$.csv\textquotesingle{})
\begin{DoxyCompactList}\small\item\em selcted species -\/ if use\+\_\+origin=True all -\/a else select init cons file \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceMCM__subset_a7eeafb0330c31c999a3b20d29a1a0c4d}\label{namespaceMCM__subset_a7eeafb0330c31c999a3b20d29a1a0c4d}} 
{\bfseries inpt} = raw\+\_\+input(\textquotesingle{}Enter Number \textbackslash{}n\textquotesingle{})
\item 
\mbox{\Hypertarget{namespaceMCM__subset_aa2564e0722f3896f0063b6a37080342c}\label{namespaceMCM__subset_aa2564e0722f3896f0063b6a37080342c}} 
{\bfseries origin} = set(all\+\_\+species)
\item 
\mbox{\Hypertarget{namespaceMCM__subset_af843c71906dbe888d838c49939625ade}\label{namespaceMCM__subset_af843c71906dbe888d838c49939625ade}} 
string {\bfseries ic\+\_\+file} = \textquotesingle{}full mcm organics\textquotesingle{}
\item 
\mbox{\Hypertarget{namespaceMCM__subset_ade4e455d8b59e6889ea7adc8673dbb83}\label{namespaceMCM__subset_ade4e455d8b59e6889ea7adc8673dbb83}} 
{\bfseries ics} = pd.\+read\+\_\+csv(ic\+\_\+file,header=2)
\item 
\mbox{\Hypertarget{namespaceMCM__subset_a66c6885a26c4dc654e8cfab8691027f1}\label{namespaceMCM__subset_a66c6885a26c4dc654e8cfab8691027f1}} 
{\bfseries species} = origin $\vert$ inorganic\+\_\+species $^\wedge$ set (\mbox{[}\textquotesingle{}\textquotesingle{}\mbox{]})
\item 
\mbox{\Hypertarget{namespaceMCM__subset_a47cccc5ac3b43edf78287088c20bcebd}\label{namespaceMCM__subset_a47cccc5ac3b43edf78287088c20bcebd}} 
int {\bfseries counter} = 0
\item 
\mbox{\Hypertarget{namespaceMCM__subset_a491bfa0bed7c7e7cf005cc980ccd4781}\label{namespaceMCM__subset_a491bfa0bed7c7e7cf005cc980ccd4781}} 
string {\bfseries previous} = \textquotesingle{}\textquotesingle{}
\item 
\mbox{\Hypertarget{namespaceMCM__subset_a8810ef2376055fd7203541a053b7fe10}\label{namespaceMCM__subset_a8810ef2376055fd7203541a053b7fe10}} 
list {\bfseries dummy} = \mbox{[}$\,$\mbox{]}
\item 
\mbox{\Hypertarget{namespaceMCM__subset_a85275c4307f9fc9cb7a5fda372e4beb1}\label{namespaceMCM__subset_a85275c4307f9fc9cb7a5fda372e4beb1}} 
list {\bfseries reactions} = \mbox{[}$\,$\mbox{]}
\item 
\mbox{\Hypertarget{namespaceMCM__subset_a31ebc47de108c9e0ab973d12ef91b298}\label{namespaceMCM__subset_a31ebc47de108c9e0ab973d12ef91b298}} 
{\bfseries s} = sarr\mbox{[}sarr$>$-\/1\mbox{]}
\item 
\mbox{\Hypertarget{namespaceMCM__subset_a12579fc9f24e79b10582daa166ffc029}\label{namespaceMCM__subset_a12579fc9f24e79b10582daa166ffc029}} 
{\bfseries xpos} = np.\+linspace(0,1,s.\+max()+1)
\item 
\mbox{\Hypertarget{namespaceMCM__subset_aa0d5c24be611f92f741c574ec74092d7}\label{namespaceMCM__subset_aa0d5c24be611f92f741c574ec74092d7}} 
list {\bfseries c} = \mbox{[}$\,$\mbox{]}
\item 
\mbox{\Hypertarget{namespaceMCM__subset_aed6f97877daf659771b9369deb970ec0}\label{namespaceMCM__subset_aed6f97877daf659771b9369deb970ec0}} 
{\bfseries cs}
\item 
\mbox{\Hypertarget{namespaceMCM__subset_aec627d291df0ce2a9a590d3a60527883}\label{namespaceMCM__subset_aec627d291df0ce2a9a590d3a60527883}} 
string {\bfseries cstr} = \textquotesingle{}\textquotesingle{}
\item 
\mbox{\Hypertarget{namespaceMCM__subset_ad9c0ca5a64b92f1f9de4472686162cab}\label{namespaceMCM__subset_ad9c0ca5a64b92f1f9de4472686162cab}} 
{\bfseries smilesdf} = pd.\+read\+\_\+csv(\textquotesingle{}../src/background/smiles\+\_\+mined.\+csv\textquotesingle{})
\item 
\mbox{\Hypertarget{namespaceMCM__subset_a69e64e266b6dd22fe8c11efa9e5afa01}\label{namespaceMCM__subset_a69e64e266b6dd22fe8c11efa9e5afa01}} 
{\bfseries smiles} = pd.\+Series(smilesdf.\+smiles)
\item 
\mbox{\Hypertarget{namespaceMCM__subset_aa3fc9fbc3d3b6b7ff73ca4a831719f08}\label{namespaceMCM__subset_aa3fc9fbc3d3b6b7ff73ca4a831719f08}} 
{\bfseries index}
\item 
\mbox{\Hypertarget{namespaceMCM__subset_a715fe81032d9085dca4fb80f7868fd96}\label{namespaceMCM__subset_a715fe81032d9085dca4fb80f7868fd96}} 
{\bfseries rc}
\item 
\mbox{\Hypertarget{namespaceMCM__subset_a046e70b979190d9b3b14e7016395c517}\label{namespaceMCM__subset_a046e70b979190d9b3b14e7016395c517}} 
{\bfseries pc}
\item 
\mbox{\Hypertarget{namespaceMCM__subset_aa401d02f03df2a0f53d7bc0f36b235a2}\label{namespaceMCM__subset_aa401d02f03df2a0f53d7bc0f36b235a2}} 
{\bfseries traces} = multiprocessing.\+Pool(4).map( \mbox{\hyperlink{namespaceMCM__subset_a4b3a88b2d7b093981b698e0227194e3f}{trace}} , s.\+index )
\item 
\mbox{\Hypertarget{namespaceMCM__subset_a740d9ab5aa88b39b9e4768626146c1d4}\label{namespaceMCM__subset_a740d9ab5aa88b39b9e4768626146c1d4}} 
string {\bfseries ro2} = \textquotesingle{}\textquotesingle{}
\item 
string {\bfseries string}
\item 
\mbox{\Hypertarget{namespaceMCM__subset_a975d648c533dac12986d0daab06af4c0}\label{namespaceMCM__subset_a975d648c533dac12986d0daab06af4c0}} 
list {\bfseries j} = eqn\mbox{[}i\mbox{]}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}A program to extract relevant data regarding the MCM, 
to be used for extracting subsets

D.Ellis 2016
\end{DoxyVerb}
 

\subsection{Function Documentation}
\mbox{\Hypertarget{namespaceMCM__subset_a4b3a88b2d7b093981b698e0227194e3f}\label{namespaceMCM__subset_a4b3a88b2d7b093981b698e0227194e3f}} 
\index{M\+C\+M\+\_\+subset@{M\+C\+M\+\_\+subset}!trace@{trace}}
\index{trace@{trace}!M\+C\+M\+\_\+subset@{M\+C\+M\+\_\+subset}}
\subsubsection{\texorpdfstring{trace()}{trace()}}
{\footnotesize\ttfamily def M\+C\+M\+\_\+subset.\+trace (\begin{DoxyParamCaption}\item[{}]{spec }\end{DoxyParamCaption})}



using all reactions generated from specie list if a species is in the products, and all reactants present... 

this is a generation reaction 
\begin{DoxyCode}
191 \textcolor{keyword}{def }trace( spec ):
192     created = []
193     loss = []
194     \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} reactions: 
195         \textcolor{keywordflow}{if}  spec \textcolor{keywordflow}{in} eq\_split[i][1]: created.append(eqn[i] )
196         \textcolor{keywordflow}{elif} spec \textcolor{keywordflow}{in} eq\_split[i][0]:   loss.append(eqn[i] )
197     \textcolor{keywordflow}{return} [created,loss]
198 
199  
\end{DoxyCode}


\subsection{Variable Documentation}
\mbox{\Hypertarget{namespaceMCM__subset_ab8959877efe918631bc51a8d27bbdd53}\label{namespaceMCM__subset_ab8959877efe918631bc51a8d27bbdd53}} 
\index{M\+C\+M\+\_\+subset@{M\+C\+M\+\_\+subset}!string@{string}}
\index{string@{string}!M\+C\+M\+\_\+subset@{M\+C\+M\+\_\+subset}}
\subsubsection{\texorpdfstring{string}{string}}
{\footnotesize\ttfamily M\+C\+M\+\_\+subset.\+string}

{\bfseries Initial value\+:}
\begin{DoxyCode}
1 =  \textcolor{stringliteral}{'''// parsed by MCMsubset.py }
2 \textcolor{stringliteral}{// contact: daniel.ellis.research@googlemail.com}
3 \textcolor{stringliteral}{// filedata: %s}
4 \textcolor{stringliteral}{// primary organics: %s}
5 \textcolor{stringliteral}{// %s species  %s reactions}
6 \textcolor{stringliteral}{}
7 \textcolor{stringliteral}{'''} %(ic\_file,list(origin),len(species),len(reactions))
\end{DoxyCode}
