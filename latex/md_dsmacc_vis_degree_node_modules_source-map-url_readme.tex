\href{https://ci.testling.com/lydell/source-map-url}{\tt }

Tools for working with source\+Mapping\+U\+RL comments.


\begin{DoxyCode}
var sourceMappingURL = require("source-map-url")

var code = [
  "!function()\{...\}();",
  "/*# sourceMappingURL=foo.js.map */"
].join("\(\backslash\)n")

sourceMappingURL.existsIn(code)
// true

sourceMappingURL.getFrom(code)
// foo.js.map

code = sourceMappingURL.insertBefore(code, "// License: MIT\(\backslash\)n")
// !function()\{...\}();
// // License: MIT
// /*# sourceMappingURL=foo.js.map */

code = sourceMappingURL.removeFrom(code)
// !function()\{...\}();
// // License: MIT

sourceMappingURL.existsIn(code)
// false

sourceMappingURL.getFrom(code)
// null

code += "//# sourceMappingURL=/other/file.js.map"
// !function()\{...\}();
// // License: MIT
// //# sourceMappingURL=/other/file.js.map
\end{DoxyCode}


\section*{Installation }


\begin{DoxyItemize}
\item {\ttfamily npm install source-\/map-\/url}
\item {\ttfamily bower install source-\/map-\/url}
\item {\ttfamily component install lydell/source-\/map-\/url}
\end{DoxyItemize}

Works with Common\+JS, A\+MD and browser globals, through U\+MD.

\section*{Usage }

\subsubsection*{{\ttfamily source\+Mapping\+U\+R\+L.\+get\+From(code)}}

Returns the url of the source\+Mapping\+U\+RL comment in {\ttfamily code}. Returns {\ttfamily null} if there is no such comment.

\subsubsection*{{\ttfamily source\+Mapping\+U\+R\+L.\+exists\+In(code)}}

Returns {\ttfamily true} if there is a source\+Mapping\+U\+RL comment in {\ttfamily code}, or {\ttfamily false} otherwise.

\subsubsection*{{\ttfamily source\+Mapping\+U\+R\+L.\+remove\+From(code)}}

Removes the source\+Mapping\+U\+RL comment in {\ttfamily code}. Does nothing if there is no such comment. Returns the updated {\ttfamily code}.

\subsubsection*{{\ttfamily source\+Mapping\+U\+R\+L.\+insert\+Before(code, string)}}

Inserts {\ttfamily string} before the source\+Mapping\+U\+RL comment in {\ttfamily code}. Appends {\ttfamily string} to {\ttfamily code} if there is no such comment.

Lets you append something to a file without worrying about burying the source\+Mapping\+U\+RL comment (by keeping it at the end of the file).

\subsubsection*{{\ttfamily source\+Mapping\+U\+R\+L.\+regex}}

The regex that is used to match source\+Mapping\+U\+RL comments. It matches both {\ttfamily //} and {\ttfamily /$\ast$$\ast$/} comments, thus supporting both Java\+Script and C\+SS.

\section*{Tests }

Start by running {\ttfamily npm test}, which lints the code and runs the test suite in Node.\+js.

To run the tests in a browser, run {\ttfamily testling} ({\ttfamily npm install -\/g testling}) or {\ttfamily testling -\/u}.

\section*{License }

\mbox{[}The X11 (“\+M\+I\+T”) License\mbox{]}(L\+I\+C\+E\+N\+SE). 