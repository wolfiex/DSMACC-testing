Firstly start by importing the provided library from the main D\+S\+M\+A\+CC directory.


\begin{DoxyCode}
%matplotlib inline 
# above only needed for Jupyter notebooks 

import dsmacc
\end{DoxyCode}
 \begin{DoxyVerb}loading libraries
ready
\end{DoxyVerb}


\paragraph*{For each Net\+C\+DF file, we can select a run and create an object that contains its data}

The {\ttfamily new} class may be given arguments for a filename or groupid (index number of the required group should we not require interactive selection.


\begin{DoxyCode}
example\_file = dsmacc.new()
\end{DoxyCode}
 \begin{DoxyVerb}Select file to open: 

0  -  methane_1707051607.nc
1  -  methane_1707051609.nc
Enter Number 
1
methane took 58 seconds to compute.
\end{DoxyVerb}


\paragraph*{Should we forget our selection we are able to draw this information out again}


\begin{DoxyCode}
print 'Filename selected: %s'%example\_file.filename
print 'Date: %s'%example\_file.date
print 'Group: %s'%example\_file.group
print example\_file.description
\end{DoxyCode}
 \begin{DoxyVerb}Filename selected: methane_1707051609.nc
Date: Completion time:Wednesday 05 July 2017 at 16:09
Group: methane
Description: Optional,Do not write time more than once. ,,
\end{DoxyVerb}


\paragraph*{Our species and rates are saved as a pandas dataframe}


\begin{DoxyCode}
print 'Species:\(\backslash\)n %s\(\backslash\)n'%example\_file.specs['CH4'].head()
print 'Rates:\(\backslash\)n %s'%example\_file.rates['CL+CH4-->CH3O2'].head()
\end{DoxyCode}
 \begin{DoxyVerb}Species:
 TIME
1970-06-23 00:10:00    2.000000e-08
1970-06-23 00:20:00    2.000000e-08
1970-06-23 00:30:00    2.000000e-08
1970-06-23 00:40:00    2.000000e-08
1970-06-23 00:50:00    2.000000e-08
Name: CH4, dtype: float64

Rates:
 TIME
1970-06-23 00:10:00    1.028993e-13
1970-06-23 00:20:00    1.028993e-13
1970-06-23 00:30:00    1.028993e-13
1970-06-23 00:40:00    1.028993e-13
1970-06-23 00:50:00    1.028993e-13
Name: CL+CH4-->CH3O2, dtype: float64
\end{DoxyVerb}


\paragraph*{Species names and rates can be extracted from the pandas dataframes or using {\ttfamily .snames} and {\ttfamily .rnames}}

Since these only contain reactions or concentrations $>$ 0, we can also look at those with {\ttfamily .noconc} and {\ttfamily .norate}


\begin{DoxyCode}
#view the first 4 of each group
print '\(\backslash\)n spec columns: '+ ' '.join(example\_file.snames[:4])
print '\(\backslash\)n rate columns: '+ ' '.join(example\_file.rnames[:4])
print '\(\backslash\)n ommited specs: '+ ' '.join(example\_file.noconc[:4])
print '\(\backslash\)n ommited rates: '+ ' '.join(example\_file.norate[:4])
\end{DoxyCode}


\begin{DoxyVerb} spec columns: RO2 NA CO2 O1D

 rate columns: CL+CH4-->CH3O2 CH4+OH-->CH3O2 CH3O2+HO2-->CH3OOH CH3O2+HO2-->HCHO

 ommited specs: HSO3 SO3 SA CL

 ommited rates: EMISS-->EMISS CH3O2+NO-->CH3NO3 CH3O2+NO3-->CH3O+NO2 HCHO+NO3-->CO+HNO3+HO2
\end{DoxyVerb}


\paragraph*{For quick plotting we can use the {\ttfamily .plot} function with one or more species.}

This has an optional {\ttfamily what} argument that may be either specs or rates


\begin{DoxyCode}
example\_file.plot(['NO','NO2'],what='specs')
\end{DoxyCode}




\paragraph*{For full diagnostics we can use {\ttfamily .pdfdiagnostics}.}

This has a {\ttfamily what} argument that may be either specs or rates, and a {\ttfamily n\+\_\+subplot} argument which corresponds to the number of subplots per page of the pdf


\begin{DoxyCode}
example\_file.pdfdiagnostics(what='specs',n\_subplot = 5)
\end{DoxyCode}
 \begin{DoxyVerb}creating a diagnostic pdf of specs
0.000 % done
0.250 % done
0.500 % done
0.750 % done
PDF out
\end{DoxyVerb}


\paragraph*{Example Section of an nheptane simulation pdf}



\paragraph*{Finally the flux array may be calculated}

Where {\ttfamily example\+\_\+file.\+flux} is the flux matrix


\begin{DoxyCode}
example\_file.ropa()
example\_file.flux
\end{DoxyCode}
 \begin{DoxyVerb}running the ropacode





array([[  0.00000000e+000,   0.00000000e+000,   0.00000000e+000, ...,
          0.00000000e+000,   0.00000000e+000,   0.00000000e+000],
       [  0.00000000e+000,   0.00000000e+000,   0.00000000e+000, ...,
          0.00000000e+000,   0.00000000e+000,   0.00000000e+000],
       [  0.00000000e+000,   0.00000000e+000,   0.00000000e+000, ...,
          0.00000000e+000,   0.00000000e+000,   0.00000000e+000],
       ..., 
       [  0.00000000e+000,   4.91510929e-059,   3.70568330e-126, ...,
         -0.00000000e+000,   0.00000000e+000,   0.00000000e+000],
       [  0.00000000e+000,   1.09788928e-061,   1.84892377e-131, ...,
         -0.00000000e+000,   0.00000000e+000,   0.00000000e+000],
       [  0.00000000e+000,   2.45235823e-064,   9.22507088e-137, ...,
         -0.00000000e+000,   0.00000000e+000,   0.00000000e+000]])
\end{DoxyVerb}


\paragraph*{. . . or alternatively a ropa Net\+C\+DF file may be created and dragged into the link given for an interactive analysis}


\begin{DoxyCode}
example\_file.d3ropatool()
\end{DoxyCode}
 \begin{DoxyVerb}making an NCFILE for the online tool: 
www-users.york.ac.uk/~dp626/MCMtools/dsmaccropa

running the ropacode
no concentration for u'CH3OOH'
no concentration for u'DUMMY'
no concentration for u'CH3OOH'
no concentration for u'CH3O2'
no concentration for u'CH3O2'
no concentration for u'CO'
no concentration for u'SO3'
no concentration for u'CH3OH'
no concentration for u'CH3O2'
no concentration for u'CH3OOH'
no concentration for u'CH3O'
no concentration for u'CH3OH'
no concentration for u'CH3NO3'
no concentration for u'CO'
no concentration for u'DUMMY'
no concentration for u'CO'
no concentration for u'DUMMY'
no concentration for u'DUMMY'
no concentration for u'CH3OH'
no concentration for u'CH3OOH'
list index out of range [u'NO2']
no concentration for u'CH3NO3'
no concentration for u'CH3O'
no concentration for u'CH3O2'
no concentration for u'CO'
no concentration for u'CH3O2NO2'
no concentration for u'HSO3'
list index out of range [u'OH']
no concentration for u'CH3O'
no concentration for u'CH3OOH'
no concentration for u'CH3O2'
no concentration for u'CH3O2'
no concentration for u'CH3O2NO2'
no concentration for u'CH3NO3'
nc write
\end{DoxyVerb}


\paragraph*{www-\/users.\+york.\+ac.\+uk/$\sim$dp626/\+M\+C\+Mtools/dsmaccropa shows the following format.}



\subparagraph*{Mechanism or species comparison}


\begin{DoxyCode}
# selection which only exists in one group or another 
example\_file.symdiff(   other\_examplefile , what='specs')

#selection that exists in both groups
example\_file.intersect( other\_examplefile , what='rates')
\end{DoxyCode}
 