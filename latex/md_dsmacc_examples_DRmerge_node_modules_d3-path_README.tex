Say you have some code that draws to a 2D canvas\+:


\begin{DoxyCode}
function drawCircle(context, radius) \{
  context.moveTo(radius, 0);
  context.arc(0, 0, radius, 0, 2 * Math.PI);
\}
\end{DoxyCode}


The d3-\/path module lets you take this exact code and additionally render to \href{http://www.w3.org/TR/SVG/paths.html}{\tt S\+VG}. It works by \href{#path_toString}{\tt serializing} \href{http://www.w3.org/TR/2dcontext/#canvaspathmethods}{\tt Canvas\+Path\+Methods} calls to \href{http://www.w3.org/TR/SVG/paths.html#PathData}{\tt S\+VG path data}. For example\+:


\begin{DoxyCode}
var context = d3.path();
drawCircle(context, 40);
pathElement.setAttribute("d", context.toString());
\end{DoxyCode}


Now code you write once can be used with both Canvas (for performance) and S\+VG (for convenience). For a practical example, see \href{https://github.com/d3/d3-shape}{\tt d3-\/shape}.

\subsection*{Installing}

If you use N\+PM, {\ttfamily npm install d3-\/path}. Otherwise, download the \href{https://github.com/d3/d3-path/releases/latest}{\tt latest release}. You can also load directly from \href{https://d3js.org}{\tt d3js.\+org}, either as a \href{https://d3js.org/d3-path.v1.min.js}{\tt standalone library} or as part of \href{https://github.com/d3/d3}{\tt D3 4.\+0}. A\+MD, Common\+JS, and vanilla environments are supported. In vanilla, a {\ttfamily d3} global is exported\+:


\begin{DoxyCode}
<script src="https://d3js.org/d3-path.v1.min.js"></script>
<script>

var path = d3.path();
path.moveTo(1, 2);
path.lineTo(3, 4);
path.closePath();

</script>
\end{DoxyCode}


\href{https://tonicdev.com/npm/d3-path}{\tt Try d3-\/path in your browser.}

\subsection*{A\+PI Reference}

\label{_path}%
\# d3.{\bfseries path}() \href{https://github.com/d3/d3-path/blob/master/src/path.js}{\tt $<$$>$}

Constructs a new path serializer that implements \href{http://www.w3.org/TR/2dcontext/#canvaspathmethods}{\tt Canvas\+Path\+Methods}.

\label{_path_moveTo}%
\# {\itshape path}.{\bfseries move\+To}({\itshape x}, {\itshape y}) \href{https://github.com/d3/d3-path/blob/master/src/path.js#L18}{\tt $<$$>$}

Move to the specified point ⟨$\ast$x$\ast$, {\itshape y$\ast$⟩. Equivalent to \mbox{[}$\ast$context}.move\+To\mbox{]}(\href{http://www.w3.org/TR/2dcontext/#dom-context-2d-moveto}{\tt http\+://www.\+w3.\+org/\+T\+R/2dcontext/\#dom-\/context-\/2d-\/moveto}) and S\+V\+G’s \href{http://www.w3.org/TR/SVG/paths.html#PathDataMovetoCommands}{\tt “moveto” command}.

\label{_path_closePath}%
\# {\itshape path}.{\bfseries close\+Path}() \href{https://github.com/d3/d3-path/blob/master/src/path.js#L21}{\tt $<$$>$}

Ends the current subpath and causes an automatic straight line to be drawn from the current point to the initial point of the current subpath. Equivalent to \href{http://www.w3.org/TR/2dcontext/#dom-context-2d-closepath}{\tt {\itshape context}.close\+Path} and S\+V\+G’s \href{http://www.w3.org/TR/SVG/paths.html#PathDataClosePathCommand}{\tt “closepath” command}.

\label{_path_lineTo}%
\# {\itshape path}.{\bfseries line\+To}({\itshape x}, {\itshape y}) \href{https://github.com/d3/d3-path/blob/master/src/path.js#L27}{\tt $<$$>$}

Draws a straight line from the current point to the specified point ⟨$\ast$x$\ast$, {\itshape y$\ast$⟩. Equivalent to \mbox{[}$\ast$context}.line\+To\mbox{]}(\href{http://www.w3.org/TR/2dcontext/#dom-context-2d-lineto}{\tt http\+://www.\+w3.\+org/\+T\+R/2dcontext/\#dom-\/context-\/2d-\/lineto}) and S\+V\+G’s \href{http://www.w3.org/TR/SVG/paths.html#PathDataLinetoCommands}{\tt “lineto” command}.

\label{_path_quadraticCurveTo}%
\# {\itshape path}.{\bfseries quadratic\+Curve\+To}({\itshape cpx}, {\itshape cpy}, {\itshape x}, {\itshape y}) \href{https://github.com/d3/d3-path/blob/master/src/path.js#L30}{\tt $<$$>$}

Draws a quadratic Bézier segment from the current point to the specified point ⟨$\ast$x$\ast$, {\itshape y$\ast$⟩, with the specified control point ⟨$\ast$cpx}, {\itshape cpy$\ast$⟩. Equivalent to \mbox{[}$\ast$context}.quadratic\+Curve\+To\mbox{]}(\href{http://www.w3.org/TR/2dcontext/#dom-context-2d-quadraticcurveto}{\tt http\+://www.\+w3.\+org/\+T\+R/2dcontext/\#dom-\/context-\/2d-\/quadraticcurveto}) and S\+V\+G’s \href{http://www.w3.org/TR/SVG/paths.html#PathDataQuadraticBezierCommands}{\tt quadratic Bézier curve commands}.

\label{_path_bezierCurveTo}%
\# {\itshape path}.{\bfseries bezier\+Curve\+To}({\itshape cpx1}, {\itshape cpy1}, {\itshape cpx2}, {\itshape cpy2}, {\itshape x}, {\itshape y}) \href{https://github.com/d3/d3-path/blob/master/src/path.js#L33}{\tt $<$$>$}

Draws a cubic Bézier segment from the current point to the specified point ⟨$\ast$x$\ast$, {\itshape y$\ast$⟩, with the specified control points ⟨$\ast$cpx1}, {\itshape cpy1$\ast$⟩ and ⟨$\ast$cpx2}, {\itshape cpy2$\ast$⟩. Equivalent to \mbox{[}$\ast$context}.bezier\+Curve\+To\mbox{]}(\href{http://www.w3.org/TR/2dcontext/#dom-context-2d-beziercurveto}{\tt http\+://www.\+w3.\+org/\+T\+R/2dcontext/\#dom-\/context-\/2d-\/beziercurveto}) and S\+V\+G’s \href{http://www.w3.org/TR/SVG/paths.html#PathDataCubicBezierCommands}{\tt cubic Bézier curve commands}.

\label{_path_arcTo}%
\# {\itshape path}.{\bfseries arc\+To}({\itshape x1}, {\itshape y1}, {\itshape x2}, {\itshape y2}, {\itshape radius}) \href{https://github.com/d3/d3-path/blob/master/src/path.js#L36}{\tt $<$$>$}

Draws a circular arc segment with the specified {\itshape radius} that starts tangent to the line between the current point and the specified point ⟨$\ast$x1$\ast$, {\itshape y1$\ast$⟩ and ends tangent to the line between the specified points ⟨$\ast$x1}, {\itshape y1$\ast$⟩ and ⟨$\ast$x2}, {\itshape y2$\ast$⟩. If the first tangent point is not equal to the current point, a straight line is drawn between the current point and the first tangent point. Equivalent to \mbox{[}$\ast$context}.arc\+To\mbox{]}(\href{http://www.w3.org/TR/2dcontext/#dom-context-2d-arcto}{\tt http\+://www.\+w3.\+org/\+T\+R/2dcontext/\#dom-\/context-\/2d-\/arcto}) and uses S\+V\+G’s \href{http://www.w3.org/TR/SVG/paths.html#PathDataEllipticalArcCommands}{\tt elliptical arc curve commands}.

\label{_path_arc}%
\# {\itshape path}.{\bfseries arc}({\itshape x}, {\itshape y}, {\itshape radius}, {\itshape start\+Angle}, {\itshape end\+Angle}\mbox{[}, {\itshape anticlockwise}\mbox{]}) \href{https://github.com/d3/d3-path/blob/master/src/path.js#L84}{\tt $<$$>$}

Draws a circular arc segment with the specified center ⟨$\ast$x$\ast$, {\itshape y$\ast$⟩, $\ast$radius}, {\itshape start\+Angle} and {\itshape end\+Angle}. If {\itshape anticlockwise} is true, the arc is drawn in the anticlockwise direction; otherwise, it is drawn in the clockwise direction. If the current point is not equal to the starting point of the arc, a straight line is drawn from the current point to the start of the arc. Equivalent to \href{http://www.w3.org/TR/2dcontext/#dom-context-2d-arc}{\tt {\itshape context}.arc} and uses S\+V\+G’s \href{http://www.w3.org/TR/SVG/paths.html#PathDataEllipticalArcCommands}{\tt elliptical arc curve commands}.

\label{_path_rect}%
\# {\itshape path}.{\bfseries rect}({\itshape x}, {\itshape y}, {\itshape w}, {\itshape h}) \href{https://github.com/d3/d3-path/blob/master/src/path.js#L122}{\tt $<$$>$}

Creates a new subpath containing just the four points ⟨$\ast$x$\ast$, {\itshape y$\ast$⟩, ⟨$\ast$x} + {\itshape w}, {\itshape y$\ast$⟩, ⟨$\ast$x} + {\itshape w}, {\itshape y} + {\itshape h$\ast$⟩, ⟨$\ast$x}, {\itshape y} + {\itshape h$\ast$⟩, with those four points connected by straight lines, and then marks the subpath as closed. Equivalent to \mbox{[}$\ast$context}.rect\mbox{]}(\href{http://www.w3.org/TR/2dcontext/#dom-context-2d-rect}{\tt http\+://www.\+w3.\+org/\+T\+R/2dcontext/\#dom-\/context-\/2d-\/rect}) and uses S\+V\+G’s \href{http://www.w3.org/TR/SVG/paths.html#PathDataLinetoCommands}{\tt “lineto” commands}.

\label{_path_toString}%
\# {\itshape path}.{\bfseries to\+String}() \href{https://github.com/d3/d3-path/blob/master/src/path.js#L125}{\tt $<$$>$}

Returns the string representation of this {\itshape path} according to S\+V\+G’s \href{http://www.w3.org/TR/SVG/paths.html#PathData}{\tt path data specficiation}. 