Gets properties from package.\+json files in parent directories.

\subsection*{Installing}

{\ttfamily npm install get-\/package-\/info}

\subsection*{Usage}

\subsubsection*{{\ttfamily get\+Package\+Info(props, dir, \mbox{[}cb\mbox{]})}}

Searches for properties from package.\+json starting from the given directory going upwards, until all properties are found. Properties are set to the first instance found, and not overwritten. It returns a promise that resolves with the results (see \href{#Example}{\tt example} below for the structure of the results object). You may also specify a node-\/style callback if you prefer.

\paragraph*{{\ttfamily props}}

An array of string properties to search for. Nested properties can be retreived with dot notation (ex\+: {\ttfamily dependencies.\+lodash}).

If an individual property is an array, it will search for those properties in order, and the first value found will be saved under all the given properties. This is useful if you want at least one of those properties, but don\textquotesingle{}t want the search to fail when it finds one but not another. Ex\+: `get\+Package\+Info(\mbox{[}\mbox{[}\textquotesingle{}dependencies.\+lodash', \textquotesingle{}dev\+Dependencies.\+lodash\textquotesingle{}\mbox{]}\mbox{]}, dir){\ttfamily will search for lodash in both}dependencies{\ttfamily and}dev\+Dependencies\`{}, and save whichever one it finds first under both properties in the results.

\paragraph*{{\ttfamily dir}}

The initial directory to search in. {\ttfamily get\+Package\+Info(props, dir)} will look for a package.\+json in {\ttfamily dir}, and get the requested properties. If all the properties are not found, it will look in package.\+json files in parent directories.

\#\# Example 
\begin{DoxyCode}
var getPackageInfo = require('get-package-info');

getPackageInfo([['productName', 'name'], 'dependencies.lodash'], '/path/to/dir')
.then((result) => \{
    console.log(result);
\});
\end{DoxyCode}


Possible output, depending on the directory structure and package.\+json contents\+:


\begin{DoxyCode}
\{
    values: \{
        name: 'package-name',
        'dependencies.lodash': '~3.0.0'
    \},
    source: \{
        productName: \{
            src: '/path/to/dir/package.json',
            pkg: \{ ... \}, // the parsed package.json this property came from
            prop: 'productName'
        \},
        name: \{
            src: '/path/to/dir/package.json',
            pkg: \{ ... \}, // the parsed package.json this property came from
            prop: 'productName' // name uses productName's value because productName has priority
        \},
        'dependencies.lodash': \{
            src: '/path/to/package.json', // This property was found in a higher directory
            pkg: \{ ... \},
            prop: 'dependencies.lodash'
        \}
    \}
\}
*/
\end{DoxyCode}


\subsection*{Handling Errors}

If all the properties cannot be found in parent package.\+json files, then {\ttfamily get\+Package\+Info()} will reject it\textquotesingle{}s promise (or callback with err argument) with an Error. {\ttfamily err.\+missing\+Props} will have an array of the properties that it could not find, and {\ttfamily err.\+result} will contain all the props that were found.

If any other error occurs(like I/O or runtime errors), {\ttfamily get\+Package\+Info()} will reject with that error itself. 