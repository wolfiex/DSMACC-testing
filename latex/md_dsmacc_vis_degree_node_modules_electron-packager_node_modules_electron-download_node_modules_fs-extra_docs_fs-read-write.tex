\href{https://nodejs.org/api/fs.html#fs_fs_read_fd_buffer_offset_length_position_callback}{\tt {\ttfamily fs.\+read()}} \& \href{https://nodejs.org/api/fs.html#fs_fs_write_fd_buffer_offset_length_position_callback}{\tt {\ttfamily fs.\+write()}} are different from other {\ttfamily fs} methods in that their callbacks are called with 3 arguments instead of the usual 2 arguments.

If you\textquotesingle{}re using them with callbacks, they will behave as usual. However, their promise usage is a little different. {\ttfamily fs-\/extra} promisifies these methods like \href{https://nodejs.org/api/util.html#util_util_promisify_original}{\tt {\ttfamily util.\+promisify()}} (only available in \mbox{\hyperlink{classNode}{Node}} 8+) does.

Here\textquotesingle{}s the example promise usage\+:

\subsection*{{\ttfamily fs.\+read()}}


\begin{DoxyCode}
// Basic promises
fs.read(fd, buffer, offset, length, position)
  .then(results => \{
    console.log(results)
    // \{ bytesRead: 20, buffer: <Buffer 0f 34 5d ...> \}
  \})

// Async/await usage:
async function example () \{
  const \{ bytesRead, buffer \} = await fs.read(fd, Buffer.alloc(length), offset, length, position)
\}
\end{DoxyCode}


\subsection*{{\ttfamily fs.\+write()}}


\begin{DoxyCode}
// Basic promises
fs.write(fd, buffer, offset, length, position)
  .then(results => \{
    console.log(results)
    // \{ bytesWritten: 20, buffer: <Buffer 0f 34 5d ...> \}
  \})

// Async/await usage:
async function example () \{
  const \{ bytesWritten, buffer \} = await fs.write(fd, Buffer.alloc(length), offset, length, position)
\}
\end{DoxyCode}
 