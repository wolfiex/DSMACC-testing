Easily read/write J\+S\+ON files.

\href{https://www.npmjs.org/package/jsonfile}{\tt } \href{http://travis-ci.org/jprichardson/node-jsonfile}{\tt } \href{https://ci.appveyor.com/project/jprichardson/node-jsonfile/branch/master}{\tt }

\href{https://github.com/feross/standard}{\tt }

\subsection*{Why? }

Writing {\ttfamily J\+S\+O\+N.\+stringify()} and then {\ttfamily fs.\+write\+File()} and {\ttfamily J\+S\+O\+N.\+parse()} with {\ttfamily fs.\+read\+File()} enclosed in {\ttfamily try/catch} blocks became annoying.

\subsection*{Installation }

\begin{DoxyVerb}npm install --save jsonfile
\end{DoxyVerb}


\subsection*{A\+PI }

\subsubsection*{read\+File(filename, \mbox{[}options\mbox{]}, callback)}

{\ttfamily options} ({\ttfamily object}, default {\ttfamily undefined})\+: Pass in any {\ttfamily fs.\+read\+File} options or set {\ttfamily reviver} for a \href{https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse}{\tt J\+S\+ON reviver}.
\begin{DoxyItemize}
\item {\ttfamily throws} ({\ttfamily boolean}, default\+: {\ttfamily true}). If {\ttfamily J\+S\+O\+N.\+parse} throws an error, pass this error to the callback. If {\ttfamily false}, returns {\ttfamily null} for the object.
\end{DoxyItemize}


\begin{DoxyCode}
var jsonfile = require('jsonfile')
var file = '/tmp/data.json'
jsonfile.readFile(file, function(err, obj) \{
  console.dir(obj)
\})
\end{DoxyCode}


\subsubsection*{read\+File\+Sync(filename, \mbox{[}options\mbox{]})}

{\ttfamily options} ({\ttfamily object}, default {\ttfamily undefined})\+: Pass in any {\ttfamily fs.\+read\+File\+Sync} options or set {\ttfamily reviver} for a \href{https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse}{\tt J\+S\+ON reviver}.
\begin{DoxyItemize}
\item {\ttfamily throws} ({\ttfamily boolean}, default\+: {\ttfamily true}). If {\ttfamily J\+S\+O\+N.\+parse} throws an error, throw the error. If {\ttfamily false}, returns {\ttfamily null} for the object.
\end{DoxyItemize}


\begin{DoxyCode}
var jsonfile = require('jsonfile')
var file = '/tmp/data.json'

console.dir(jsonfile.readFileSync(file))
\end{DoxyCode}


\subsubsection*{write\+File(filename, obj, \mbox{[}options\mbox{]}, callback)}

{\ttfamily options}\+: Pass in any {\ttfamily fs.\+write\+File} options or set {\ttfamily replacer} for a \href{https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify}{\tt J\+S\+ON replacer}. Can also pass in {\ttfamily spaces}.


\begin{DoxyCode}
var jsonfile = require('jsonfile')

var file = '/tmp/data.json'
var obj = \{name: 'JP'\}

jsonfile.writeFile(file, obj, function (err) \{
  console.error(err)
\})
\end{DoxyCode}


{\bfseries formatting with spaces\+:}


\begin{DoxyCode}
var jsonfile = require('jsonfile')

var file = '/tmp/data.json'
var obj = \{name: 'JP'\}

jsonfile.writeFile(file, obj, \{spaces: 2\}, function(err) \{
  console.error(err)
\})
\end{DoxyCode}


\subsubsection*{write\+File\+Sync(filename, obj, \mbox{[}options\mbox{]})}

{\ttfamily options}\+: Pass in any {\ttfamily fs.\+write\+File\+Sync} options or set {\ttfamily replacer} for a \href{https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify}{\tt J\+S\+ON replacer}. Can also pass in {\ttfamily spaces}.


\begin{DoxyCode}
var jsonfile = require('jsonfile')

var file = '/tmp/data.json'
var obj = \{name: 'JP'\}

jsonfile.writeFileSync(file, obj)
\end{DoxyCode}


{\bfseries formatting with spaces\+:}


\begin{DoxyCode}
var jsonfile = require('jsonfile')

var file = '/tmp/data.json'
var obj = \{name: 'JP'\}

jsonfile.writeFileSync(file, obj, \{spaces: 2\})
\end{DoxyCode}


\subsubsection*{spaces}

Global configuration to set spaces to indent J\+S\+ON files.

{\bfseries default\+:} {\ttfamily null}


\begin{DoxyCode}
var jsonfile = require('jsonfile')

jsonfile.spaces = 4

var file = '/tmp/data.json'
var obj = \{name: 'JP'\}

// json file has four space indenting now
jsonfile.writeFile(file, obj, function (err) \{
  console.error(err)
\})
\end{DoxyCode}


Note, it\textquotesingle{}s bound to {\ttfamily this.\+spaces}. So, if you do this\+:


\begin{DoxyCode}
var myObj = \{\}
myObj.writeJsonSync = jsonfile.writeFileSync
// => this.spaces = null
\end{DoxyCode}


Could do the following\+:


\begin{DoxyCode}
var jsonfile = require('jsonfile')
jsonfile.spaces = 4
jsonfile.writeFileSync(file, obj) // will have 4 spaces indentation

var myCrazyObj = \{spaces: 32\}
myCrazyObj.writeJsonSync = jsonfile.writeFileSync
myCrazyObj.writeJsonSync(file, obj) // will have 32 space indentation
myCrazyObj.writeJsonSync(file, obj, \{spaces: 2\}) // will have only 2
\end{DoxyCode}


\subsection*{License }

(M\+IT License)

Copyright 2012-\/2016, JP Richardson \href{mailto:jprichardson@gmail.com}{\tt jprichardson@gmail.\+com} 