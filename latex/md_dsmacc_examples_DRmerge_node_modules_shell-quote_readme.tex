Parse and quote shell commands.

\section*{example}

\subsection*{quote}


\begin{DoxyCode}
var quote = require('shell-quote').quote;
var s = quote([ 'a', 'b c d', '$f', '"g"' ]);
console.log(s);
\end{DoxyCode}


output


\begin{DoxyCode}
a 'b c d' \(\backslash\)$f '"g"'
\end{DoxyCode}


\subsection*{parse}


\begin{DoxyCode}
var parse = require('shell-quote').parse;
var xs = parse('a "b c" \(\backslash\)\(\backslash\)$def \(\backslash\)'it\(\backslash\)\(\backslash\)\(\backslash\)'s great\(\backslash\)'');
console.dir(xs);
\end{DoxyCode}


output


\begin{DoxyCode}
[ 'a', 'b c', '\(\backslash\)\(\backslash\)$def', 'it\(\backslash\)'s great' ]
\end{DoxyCode}


\subsection*{parse with an environment variable}


\begin{DoxyCode}
var parse = require('shell-quote').parse;
var xs = parse('beep --boop="$PWD"', \{ PWD: '/home/robot' \});
console.dir(xs);
\end{DoxyCode}


output


\begin{DoxyCode}
[ 'beep', '--boop=/home/robot' ]
\end{DoxyCode}


\subsection*{parse with custom escape charcter}


\begin{DoxyCode}
var parse = require('shell-quote').parse;
var xs = parse('beep --boop="$PWD"', \{ PWD: '/home/robot' \}, \{ escape: '^' \});
console.dir(xs);
\end{DoxyCode}


output


\begin{DoxyCode}
[ 'beep', '--boop=/home/robot' ]
\end{DoxyCode}


\subsection*{parsing shell operators}


\begin{DoxyCode}
var parse = require('shell-quote').parse;
var xs = parse('beep || boop > /byte');
console.dir(xs);
\end{DoxyCode}


output\+:


\begin{DoxyCode}
[ 'beep', \{ op: '||' \}, 'boop', \{ op: '>' \}, '/byte' ]
\end{DoxyCode}


\subsection*{parsing shell comment}


\begin{DoxyCode}
var parse = require('shell-quote').parse;
var xs = parse('beep > boop # > kaboom');
console.dir(xs);
\end{DoxyCode}


output\+:


\begin{DoxyCode}
[ 'beep', \{ op: '>' \}, 'boop', \{ comment: '> kaboom' \} ]
\end{DoxyCode}


\section*{methods}


\begin{DoxyCode}
var quote = require('shell-quote').quote;
var parse = require('shell-quote').parse;
\end{DoxyCode}


\subsection*{quote(args)}

Return a quoted string for the array {\ttfamily args} suitable for using in shell commands.

\subsection*{parse(cmd, env=\{\})}

Return an array of arguments from the quoted string {\ttfamily cmd}.

Interpolate embedded bash-\/style {\ttfamily \$\+V\+A\+R\+N\+A\+ME} and {\ttfamily \$\{V\+A\+R\+N\+A\+ME\}} variables with the {\ttfamily env} object which like bash will replace undefined variables with {\ttfamily \char`\"{}\char`\"{}}.

{\ttfamily env} is usually an object but it can also be a function to perform lookups. When {\ttfamily env(key)} returns a string, its result will be output just like {\ttfamily env\mbox{[}key\mbox{]}} would. When {\ttfamily env(key)} returns an object, it will be inserted into the result array like the operator objects.

When a bash operator is encountered, the element in the array with be an object with an {\ttfamily \char`\"{}op\char`\"{}} key set to the operator string. For example\+:


\begin{DoxyCode}
'beep || boop > /byte'
\end{DoxyCode}


parses as\+:


\begin{DoxyCode}
[ 'beep', \{ op: '||' \}, 'boop', \{ op: '>' \}, '/byte' ]
\end{DoxyCode}


\section*{install}

With \href{http://npmjs.org}{\tt npm} do\+:


\begin{DoxyCode}
npm install shell-quote
\end{DoxyCode}


\section*{license}

M\+IT 