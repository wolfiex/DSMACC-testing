\hypertarget{namespaceMCM__subset__new}{}\section{M\+C\+M\+\_\+subset\+\_\+new Namespace Reference}
\label{namespaceMCM__subset__new}\index{M\+C\+M\+\_\+subset\+\_\+new@{M\+C\+M\+\_\+subset\+\_\+new}}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_aa58f3d78500cff2fd739d89166c55972}\label{namespaceMCM__subset__new_aa58f3d78500cff2fd739d89166c55972}} 
def {\bfseries pool\+\_\+eqn} (x)
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a49d072e4cd56c3b4f93bba32b1e9f45a}\label{namespaceMCM__subset__new_a49d072e4cd56c3b4f93bba32b1e9f45a}} 
def {\bfseries simplifyn} (x)
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_af8cf315e44129588074c622870f75b77}\label{namespaceMCM__subset__new_af8cf315e44129588074c622870f75b77}} 
def {\bfseries prodrct} (x)
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a4ce2eb052d0ab4a64cd730a3dfacd92d}\label{namespaceMCM__subset__new_a4ce2eb052d0ab4a64cd730a3dfacd92d}} 
def {\bfseries isrxn} (i)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_af78e4740b5945fa71f463bd8ea9890d2}\label{namespaceMCM__subset__new_af78e4740b5945fa71f463bd8ea9890d2}} 
int {\bfseries available\+\_\+cores} = 4
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_af24d72e4e4b80591fd9154204f71dccb}\label{namespaceMCM__subset__new_af24d72e4e4b80591fd9154204f71dccb}} 
string {\bfseries origin} = \textquotesingle{}NO,C\+H4\textquotesingle{}
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a9d434019e867f295cb1242e23d253bcb}\label{namespaceMCM__subset__new_a9d434019e867f295cb1242e23d253bcb}} 
string {\bfseries simplify} = \textquotesingle{}-\/-\/simplify\textquotesingle{} in sys.\+argv
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a12295ccf338456707f7867dcfcf17fc6}\label{namespaceMCM__subset__new_a12295ccf338456707f7867dcfcf17fc6}} 
string {\bfseries include\+\_\+\+C\+O2} = \textquotesingle{}-\/-\/C\+O2\textquotesingle{} in sys.\+argv
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_abffee1858c11fb4855c9f16016c66bd9}\label{namespaceMCM__subset__new_abffee1858c11fb4855c9f16016c66bd9}} 
string {\bfseries single\+\_\+file} = \textquotesingle{}-\/-\/onefile\textquotesingle{} in sys.\+argv
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a475d21acc1d9ccd962d94d2f9f20fb1e}\label{namespaceMCM__subset__new_a475d21acc1d9ccd962d94d2f9f20fb1e}} 
string {\bfseries include\+\_\+\+R\+O2} = \textquotesingle{}-\/-\/R\+O2\textquotesingle{} in sys.\+argv
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a79385b4b8d4d9c3e17aac41b156b1079}\label{namespaceMCM__subset__new_a79385b4b8d4d9c3e17aac41b156b1079}} 
bool {\bfseries additional} = False
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_aebc01f012e97195fe50e74d23357dc85}\label{namespaceMCM__subset__new_aebc01f012e97195fe50e74d23357dc85}} 
{\bfseries argv}
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_aff5fa765f833d6adfac5021a33552830}\label{namespaceMCM__subset__new_aff5fa765f833d6adfac5021a33552830}} 
{\bfseries filename1}
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_af9f398cf9f2304f5c784ba64fe0a956a}\label{namespaceMCM__subset__new_af9f398cf9f2304f5c784ba64fe0a956a}} 
{\bfseries full} = tuple(open(filename1))
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_afdce12b664a5a3dc4e223a7bc5438e28}\label{namespaceMCM__subset__new_afdce12b664a5a3dc4e223a7bc5438e28}} 
string {\bfseries T\+U\+Vvers} = \textquotesingle{}\textquotesingle{}
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_abdfe950aefd819de443d25f796f2e3da}\label{namespaceMCM__subset__new_abdfe950aefd819de443d25f796f2e3da}} 
tuple {\bfseries inorganics} = ()
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a9b361740470d122eff875f248bb90eee}\label{namespaceMCM__subset__new_a9b361740470d122eff875f248bb90eee}} 
{\bfseries filename}
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_ac1a9f1e54f0bdaba3cc4790f1321ad5f}\label{namespaceMCM__subset__new_ac1a9f1e54f0bdaba3cc4790f1321ad5f}} 
{\bfseries gen} = xrange(len(full))
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a53cf11d98aff25ae3fbf7ec8f9e5e4d9}\label{namespaceMCM__subset__new_a53cf11d98aff25ae3fbf7ec8f9e5e4d9}} 
{\bfseries nocoeff} = re.\+compile(r\textquotesingle{}\textbackslash{}b\mbox{[}\textbackslash{}d\textbackslash{}.\mbox{]}$\ast$(\textbackslash{}w+)\textbackslash{}b\textquotesingle{})
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a3e10499ed29d59395e7cc7f8e5c56f3e}\label{namespaceMCM__subset__new_a3e10499ed29d59395e7cc7f8e5c56f3e}} 
string {\bfseries ic\+\_\+file} = \textquotesingle{}primary\textquotesingle{}
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_ad45f2c81efd10535928384b6c960b836}\label{namespaceMCM__subset__new_ad45f2c81efd10535928384b6c960b836}} 
string {\bfseries fullstr} = \textquotesingle{}$\sim$\textquotesingle{}.join(full+inorganics).replace(\textquotesingle{}\textbackslash{}n\textquotesingle{},\textquotesingle{}\textquotesingle{}).replace(\textquotesingle{}\textbackslash{}t\textquotesingle{},\textquotesingle{}\textquotesingle{}).replace(\textquotesingle{} \textquotesingle{},\textquotesingle{}\textquotesingle{})
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a076829d8a1ef1735ed0710b502d68781}\label{namespaceMCM__subset__new_a076829d8a1ef1735ed0710b502d68781}} 
list {\bfseries eqn} = \mbox{[}i.\+replace(\textquotesingle{} \textquotesingle{},\textquotesingle{}\textquotesingle{}).split(\textquotesingle{}\+:\textquotesingle{}) for i in re.\+findall(r\textquotesingle{}\mbox{[}$^\wedge$/\mbox{]}\{0,2\}\textbackslash{}\{\mbox{[}\textbackslash{}. \textbackslash{}s\textbackslash{}w\textbackslash{}d\mbox{]}$\ast$\textbackslash{}\}(\mbox{[}A-\/z0-\/9+-\/=\+:()$\ast$/\mbox{]}$\ast$);$\sim$\textquotesingle{} ,fullstr)\mbox{]}
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_aa00372d41986e724154ed751c5380e53}\label{namespaceMCM__subset__new_aa00372d41986e724154ed751c5380e53}} 
string {\bfseries allspecstest} = \textquotesingle{}=\textquotesingle{}.join(\mbox{[}i\mbox{[}0\mbox{]} for i in eqn\mbox{]})
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a6fcb5a271fba58bca7a411398fedf4ef}\label{namespaceMCM__subset__new_a6fcb5a271fba58bca7a411398fedf4ef}} 
{\bfseries all\+\_\+species} = set(nocoeff.\+findall(allspecstest))
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a338ac94aa449cccccf2b6aebf33edebd}\label{namespaceMCM__subset__new_a338ac94aa449cccccf2b6aebf33edebd}} 
{\bfseries inorganic\+\_\+species} = set(\mbox{[}\textquotesingle{}D\+U\+M\+MY\textquotesingle{}, \textquotesingle{}N2\+O5\textquotesingle{}, \textquotesingle{}H2\+O2\textquotesingle{}, \textquotesingle{}NO\textquotesingle{}, \textquotesingle{}H2\textquotesingle{}, \textquotesingle{}NA\textquotesingle{}, \textquotesingle{}H\+O\+NO\textquotesingle{}, \textquotesingle{}OH\textquotesingle{}, \textquotesingle{}S\+O2\textquotesingle{}, \textquotesingle{}O\textquotesingle{}, \textquotesingle{}H\+N\+O3\textquotesingle{}, \textquotesingle{}S\+O3\textquotesingle{}, \textquotesingle{}O1D\textquotesingle{}, \textquotesingle{}H\+O2\textquotesingle{}, \textquotesingle{}H\+O2\+N\+O2\textquotesingle{}, \textquotesingle{}CO\textquotesingle{}, \textquotesingle{}SA\textquotesingle{}, \textquotesingle{}O3\textquotesingle{}, \textquotesingle{}H\+S\+O3\textquotesingle{}, \textquotesingle{}N\+O2\textquotesingle{}, \textquotesingle{}N\+O3\textquotesingle{}\mbox{]})
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a21dd9a52bca48efb9cfd813fadde11bb}\label{namespaceMCM__subset__new_a21dd9a52bca48efb9cfd813fadde11bb}} 
int {\bfseries sarr} = -\/1
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a69650c97c27ee8be5f74a437089065e0}\label{namespaceMCM__subset__new_a69650c97c27ee8be5f74a437089065e0}} 
{\bfseries num2spec} = dict(enumerate(all\+\_\+species))
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a5983dc07fd65cfa1d3ace370960ab04b}\label{namespaceMCM__subset__new_a5983dc07fd65cfa1d3ace370960ab04b}} 
dictionary {\bfseries spec2num} = \{v\+: k for k, v in num2spec.\+iteritems()\}
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a93078aa484a892cee2f789d84a600fda}\label{namespaceMCM__subset__new_a93078aa484a892cee2f789d84a600fda}} 
{\bfseries eqdf} = pd.\+Data\+Frame(eqn)
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_ab3d9ec74a6444d9e385d068be1afc74c}\label{namespaceMCM__subset__new_ab3d9ec74a6444d9e385d068be1afc74c}} 
{\bfseries inplace}
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_aba2912605a91e99c4e539f94b8959022}\label{namespaceMCM__subset__new_aba2912605a91e99c4e539f94b8959022}} 
{\bfseries constants} = re.\+findall(r\textquotesingle{}\textbackslash{}b(\mbox{[}A-\/z\mbox{]}\textbackslash{}w+)\textbackslash{}b\textquotesingle{},\textquotesingle{},\textquotesingle{}.join(eqdf\mbox{[}1\mbox{]}))
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a90a48a8a576c90add5893c8df63c02f8}\label{namespaceMCM__subset__new_a90a48a8a576c90add5893c8df63c02f8}} 
{\bfseries dup\+\_\+rxn} = np.\+array(eqdf\mbox{[}eqdf\mbox{[}0\mbox{]}.duplicated()\mbox{]}\mbox{[}0\mbox{]})
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a1bd395a9abd5caba363da092ce002085}\label{namespaceMCM__subset__new_a1bd395a9abd5caba363da092ce002085}} 
{\bfseries dup} = eqdf\mbox{[}0\mbox{]}.duplicated(keep=False)
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a96484ef91569a9d3b176c82aef2473e6}\label{namespaceMCM__subset__new_a96484ef91569a9d3b176c82aef2473e6}} 
{\bfseries eq\+\_\+split} = multiprocessing.\+Pool(available\+\_\+cores).map(prodrct,eqn)
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_aa21bae84ab4e878ba8d38350797e571d}\label{namespaceMCM__subset__new_aa21bae84ab4e878ba8d38350797e571d}} 
{\bfseries file\+\_\+list} = glob.\+glob(\textquotesingle{}../Init\+Cons/$\ast$.csv\textquotesingle{})
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a25f2f9fb9b219cc2bea6061d76795a9b}\label{namespaceMCM__subset__new_a25f2f9fb9b219cc2bea6061d76795a9b}} 
{\bfseries inpt} = raw\+\_\+input(\textquotesingle{}Enter Number \textbackslash{}n\textquotesingle{})
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a28406875b8997ab9a3aa8ece321f8aa1}\label{namespaceMCM__subset__new_a28406875b8997ab9a3aa8ece321f8aa1}} 
{\bfseries ics} = pd.\+read\+\_\+csv(ic\+\_\+file,header=2)
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_adb705a0821ea12962c3e112e60937fc4}\label{namespaceMCM__subset__new_adb705a0821ea12962c3e112e60937fc4}} 
string {\bfseries species} = origin $\vert$ \{\textquotesingle{}O3\textquotesingle{},\textquotesingle{}NO\textquotesingle{},\textquotesingle{}N\+O2\textquotesingle{},\textquotesingle{}C\+H4\textquotesingle{}\}
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a2a0428c4989e09b6964575e9a35121ca}\label{namespaceMCM__subset__new_a2a0428c4989e09b6964575e9a35121ca}} 
int {\bfseries counter} = 0
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_aa4338161d28e309b928a27796b77cd9d}\label{namespaceMCM__subset__new_aa4338161d28e309b928a27796b77cd9d}} 
string {\bfseries previous} = \textquotesingle{}\textquotesingle{}
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a5c83ace8b0f17432a1fd9518eb3f4a31}\label{namespaceMCM__subset__new_a5c83ace8b0f17432a1fd9518eb3f4a31}} 
string {\bfseries newlyfound} = \textquotesingle{}\textquotesingle{}
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a86d17221ab89803030ddc3dea87597c4}\label{namespaceMCM__subset__new_a86d17221ab89803030ddc3dea87597c4}} 
string {\bfseries skipped} = \textquotesingle{}\textquotesingle{}
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a67344f2ad33516537afd9a6341345504}\label{namespaceMCM__subset__new_a67344f2ad33516537afd9a6341345504}} 
list {\bfseries dummy} = \mbox{[}$\,$\mbox{]}
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a5b52c405079b0ac42e433f883744d6e4}\label{namespaceMCM__subset__new_a5b52c405079b0ac42e433f883744d6e4}} 
list {\bfseries reactions} = \mbox{[}x for x in multiprocessing.\+Pool(available\+\_\+cores).map(isrxn,gen) if x!=None\mbox{]}
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a838e733371edfd89e3042bae6f43b255}\label{namespaceMCM__subset__new_a838e733371edfd89e3042bae6f43b255}} 
list {\bfseries c} = \mbox{[}$\,$\mbox{]}
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a92bb2732df8bf72f2b3facf7a5db466a}\label{namespaceMCM__subset__new_a92bb2732df8bf72f2b3facf7a5db466a}} 
{\bfseries cs} = re.\+compile(r\textquotesingle{}c\textquotesingle{},re.\+I\+G\+N\+O\+R\+E\+C\+A\+SE)
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a241015cd468035932d8be4fb0fcf8a70}\label{namespaceMCM__subset__new_a241015cd468035932d8be4fb0fcf8a70}} 
string {\bfseries cstr} = \textquotesingle{}\textquotesingle{}
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a74144dc933010b5be931a79263fd5e41}\label{namespaceMCM__subset__new_a74144dc933010b5be931a79263fd5e41}} 
{\bfseries smilesdf} = pd.\+read\+\_\+csv(\textquotesingle{}../src/background/smiles\+\_\+mined.\+csv\textquotesingle{})
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_ae42194bdd322239a6385f959173638d8}\label{namespaceMCM__subset__new_ae42194bdd322239a6385f959173638d8}} 
{\bfseries smiles} = pd.\+Series(smilesdf.\+smiles)
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a21ccf71fe413e632e32f37bea8cc3d0e}\label{namespaceMCM__subset__new_a21ccf71fe413e632e32f37bea8cc3d0e}} 
{\bfseries index}
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a8837af3911381c7d91d3ac01f87c70fb}\label{namespaceMCM__subset__new_a8837af3911381c7d91d3ac01f87c70fb}} 
{\bfseries rc}
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_abd0af78dfb28b59ea9137c26c0a06cbb}\label{namespaceMCM__subset__new_abd0af78dfb28b59ea9137c26c0a06cbb}} 
{\bfseries pc}
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a84f2a4a95e7cec06160aa1ace73af82b}\label{namespaceMCM__subset__new_a84f2a4a95e7cec06160aa1ace73af82b}} 
list {\bfseries r} = \mbox{[}$\,$\mbox{]}
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_ae3c7159bd485b405c635660db991db74}\label{namespaceMCM__subset__new_ae3c7159bd485b405c635660db991db74}} 
{\bfseries rs} = re.\+compile(r\textquotesingle{}\textbackslash{}$\ast$R\+O2\textquotesingle{},re.\+I\+G\+N\+O\+R\+E\+C\+A\+SE)
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_aff4f0705fd7a8d55fe825501485b820b}\label{namespaceMCM__subset__new_aff4f0705fd7a8d55fe825501485b820b}} 
string {\bfseries ro2} = \textquotesingle{}\textquotesingle{}
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_aa80fa4f10e4355d8a6a380c0a24b7080}\label{namespaceMCM__subset__new_aa80fa4f10e4355d8a6a380c0a24b7080}} 
{\bfseries r2} = re.\+compile(r\textquotesingle{}\+\_\+(\mbox{[}A-\/z0-\/9\mbox{]}$\ast$)\textbackslash{})\textquotesingle{})
\item 
string {\bfseries string}
\item 
\mbox{\Hypertarget{namespaceMCM__subset__new_a33163d4710b15f0bede9b39f519adf7d}\label{namespaceMCM__subset__new_a33163d4710b15f0bede9b39f519adf7d}} 
{\bfseries rint} = re.\+compile(r\textquotesingle{}\textbackslash{}d\textquotesingle{})
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}A program to extract relevant data regarding the MCM,
to be used for extracting subsets

use --CO2 to inclide co2 reactions where all species have smiles strings (i.e. MCM)
use --onefile to ignore inorganics
use --RO2 to add R as a reaction species for all RO2 reactions.
use --primary only use species from orgin (set below) in addition to inorganics. If --onefile is used, only reactions containing reactants entirely from origin are used. Not using this flag prompts for a IC file selection, or all option during the program run. {'O3','NO','NO2','CH4'} are added automatically
use --additional:<filename.add> for additional functions to model.kpp (e.g. --additional:geosfns.add)

D.Ellis 2017
\end{DoxyVerb}
 

\subsection{Variable Documentation}
\mbox{\Hypertarget{namespaceMCM__subset__new_aeb20c414a565c766c95ca31a2a310909}\label{namespaceMCM__subset__new_aeb20c414a565c766c95ca31a2a310909}} 
\index{M\+C\+M\+\_\+subset\+\_\+new@{M\+C\+M\+\_\+subset\+\_\+new}!string@{string}}
\index{string@{string}!M\+C\+M\+\_\+subset\+\_\+new@{M\+C\+M\+\_\+subset\+\_\+new}}
\subsubsection{\texorpdfstring{string}{string}}
{\footnotesize\ttfamily M\+C\+M\+\_\+subset\+\_\+new.\+string}

{\bfseries Initial value\+:}
\begin{DoxyCode}
1 =  \textcolor{stringliteral}{'''// parsed by MCMsubset.py}
2 \textcolor{stringliteral}{// contact: daniel.ellis.research@googlemail.com}
3 \textcolor{stringliteral}{// filedata: %s}
4 \textcolor{stringliteral}{// primary organics: %s}
5 \textcolor{stringliteral}{// %s species  %s reactions}
6 \textcolor{stringliteral}{}
7 \textcolor{stringliteral}{'''} %(ic\_file,list(origin),len(species),len(reactions))
\end{DoxyCode}
